ˇˇo"key"è00D3M0000008mnt0DB58000000L0EM0053M000000VBg6en_UScf496403-d8e3-4135-ae9d-f09be8cf1ba9BLM15114571800000000000001849.0:markup://reports:services"itemo"value"ˇ°{"descriptor":"markup://reports:services","includes":{"ChartService":"js://reports.services.ChartService","ChartSerializationService":"js://reports.services.ChartSerializationService","ErrorService":"js://reports.services.ErrorService","FlattenService":"js://reports.services.FlattenService","ReportResultTransformService":"js://reports.services.ReportResultTransformService","Tooltip":"js://reports.services.Tooltip","TableChartRenderingService":"js://reports.services.TableChartRenderingService","TableChartConfigService":"js://reports.services.TableChartConfigService","PicklistColorService":"js://reports.services.PicklistColorService","ColorService":"js://reports.services.ColorService","FlexibleTableChartConfigService":"js://reports.services.FlexibleTableChartConfigService"},"includeClasses":"function(){$A.componentService.addLibraryInclude(\"js://reports.services.ChartService\",[\"js://reports.EclairConfigurerUtils.ConfigHelpers\",\"js://reports.services.PicklistColorService\"],function(B,C){function k(e,a){return function(a,h,f){a=JSON.parse(JSON.stringify(a));a.config=a.config.filter(function(a){return\"showTotal\"!==a.property});if(a.shortname&&\"lineShortName\"===a.shortname.id)for(var g=0;g<a.config.length;g++)\"yAxis\"===a.config[g].label.id&&a.config.splice(g+1,0,{type:\"BOOLEAN\",property:\"__isCumulative__\",\nmax:1,min:1,label:$A.get(\"$Label.EclairConfig.cumulative\"),defaults:[!1]});a.config&&e&&a.config.unshift({type:\"TEXT\",min:1,max:1,property:\"__chartTitle__\",label:$A.get(\"$Label.EclairConfig.chartTitle\"),maxLength:f,defaults:[h]});return a}}function t(e,a,c){var h=c||{minDimensions:0,minMeasures:0,hasOtherDimension:!1,hasOtherMeasure:!1};e.forEach(function(a){\"DIMENSION\"===a.type?(h.minDimensions+=a.min,\"dimension\"!==a.property&&(h.hasOtherDimension=!0)):\"MEASURE\"===a.type?(h.minMeasures+=a.min,\"measure\"!==\na.property&&(h.hasOtherMeasure=!0)):\"GROUP\"===a.type?t(a.config,!1,h):\"OR\"===a.type&&t(a.config,!0,h)});return h}function z(e,a,c,h,f,g,p,n,d,q,l,D,k){var s,r,u,v,w,x,y;d=d||{legendPosition:\"Right\"};a&&(null!=a.fillArea&&(d.fillArea=a.fillArea),null!=a.numberUnits&&(d.numberUnits=a.numberUnits),null!=a.valueType&&(d.valueType=a.valueType),null!=a.decimalPlaces&&(d.decimalPlaces=a.decimalPlaces),null!=a.axisRange&&\"manual\"===a.axisRange.rangeType&&(d.axisRange=a.axisRange,d.axisRangeOption=a.axisRange.rangeType));\nq=q||[].concat(h);l=l||[].concat(f);a&&(s=a.dimension&&a.dimension.fields,x=a.color&&a.color.fields,r=a.measure&&a.measure.fields,u=a.extraMeasure&&a.extraMeasure.fields,v=a.x&&a.x.fields,w=a.y&&a.y.fields);y=t(e);e.forEach(function(b){var e;if(\"DIMENSION\"===b.type)D?(e=\"dimension\"===b.property&&!y.hasOtherDimension?q.length:b.min,d[b.property]={fields:q.splice(0,e)}):\"dimension\"===b.property&&s&&s.length>=b.min?(m(c,s,q,b,d,b.property),!y.hasOtherDimension&&x&&m(c,x,q,b,d,b.property,!0)):\"color\"===\nb.property&&x&&x.length>=b.min?m(c,x,q,b,d,b.property):a&&a[b.property]&&0<a[b.property].fields.length&&!d[b.property]?m(c,a[b.property].fields,q,b,d,b.property):s||(d[b.property]={fields:q.splice(0,b.max)}),b.colorable&&$A.util.forEach(d[b.property]&&d[b.property].fields||[],function(a){if(a){var b;if(n.hasPicklistColors)for(var c=0;c<n.length;c++)if(C.isCorrectPalette(a.column,n[c])){b=n[c];break}if(null==b||\"undefined\"==typeof b)b=n[0];b.colorMap?C.addValueColors(a,b.colorMap,n.stringifyColorMapKeys):\na.colors=b.colors;a.__paletteId__=b.id}});else if(\"MEASURE\"===b.type){if(k){e=\"measure\"===b.property&&!y.hasOtherMeasure?l.length:b.min;var t=r?H(r,l):l;d[b.property]={fields:t.splice(0,e)}}else\"measure\"===b.property&&r&&r.length>=b.min?(m(c,r,l,b,d,b.property),!y.hasOtherMeasure&&u&&m(c,u,l,b,d,b.property,!0)):\"measure\"===b.property&&v&&w?(m(c,v,l,b,d,b.property),m(c,w,l,b,d,b.property,!0)):\"extraMeasure\"===b.property&&u&&u.length>=b.min?m(c,u,l,b,d,b.property):\"x\"===b.property&&v&&v.length>=b.min?\nm(c,v,l,b,d,b.property):\"y\"===b.property&&w&&w.length>=b.min?m(c,w,l,b,d,b.property):a&&a[b.property]&&a[b.property].fields&&0<a[b.property].fields.length&&!d[b.property]?m(c,a[b.property].fields,l,b,d,b.property):r||(d[b.property]={fields:l.splice(0,b.min)});b.colorable&&$A.util.forEach(d[b.property]&&d[b.property].fields||[],function(a,c){if(a){var d=!b.role||\"PRIMARY\"===b.role||!p?g:p;a.color=d[c%d.length].color}})}else(\"GROUP\"===b.type||\"OR\"===b.type)&&z(b.config,a,c,h,f,g,p,n,d,q,l,D,k)});return d}\nfunction m(e,a,c,h,f,g,p){if(a){e=f[g]&&f[g].fields;a=a.splice(0,a.length);p&&e?Array.prototype.push.apply(e,a):f[g]={fields:a};for(f=c.length-1;0<=f;f--)for(g=0;g<a.length;g++)if(c[f].column===a[g].column&&c[f].label===a[g].label){c.splice(f,1);break}}}function H(e,a){for(var c=JSON.parse(JSON.stringify(a)),h=0;h<e.length;h++)for(var f=e[h],g=0;g<c.length;g++){var p=c[h];f.column===p.column&&(f.format&&(p.format=f.format),f.label&&(p.label=f.label))}return c}function E(e,a,c,h,f,g,p,n,d,q){var l=\nnull,m=a&&a.dimensions,k=a&&a.measures,s=m&&m.length,r=k&&k.length;e=q||F(e,a,g,p);return(a=(a=I(n,e))&&A(a,n,d,s,r,m,k,c,h,f))?a:e.some(function(a){if(l=A(a,n,d,s,r,m,k,c,h,f))return l})?l:!1}function A(e,a,c,h,f,g,p,n,d,m){if(e.enabled){var l,k=(l=e.metadata)&&l.config;if(k&&(l=t(k),h>=l.minDimensions&&f>=l.minMeasures))return a=z(k,c,a,g,p,n,d,m,void 0,void 0,void 0,!1,!1),c&&(c._isCumulative&&(a._isCumulative=c._isCumulative),c.axis1&&(a.axis1=c.axis1),c.axis2&&(a.axis2=c.axis2),c.axisMode&&(a.axisMode=\nc.axisMode)),e={definition:e.script.path(),config:a}}}function I(e,a){if(e){var c;a.some(function(a){var f=a.script.path();if(e===f)return c=a,!0});return c}}function F(e,a,c,h){var f=[];G.forEach(function(g){var k=e.script(g.path);if(k){var n=g.transform(k.metadata(),c,h),n=B.pruneUnselectableAxes(n,a,g.dupMeasures),d=B.findAxisTraces(n.config),m=d.primaryDimensions.length+d.secondaryDimensions.length;f.push({script:k,metadata:n,enabled:d.primaryMeasures.length+d.secondaryMeasures.length>=g.minMeasures&&\nm>=g.minDimensions})}});return f}var G=[{path:\"sfdc-lightning/charts/hbar.js\",transform:k(!0,!0),minDimensions:1,minMeasures:1},{path:\"sfdc-lightning/charts/vbar.js\",transform:k(!0,!0),minDimensions:1,minMeasures:1},{path:\"sfdc-lightning/charts/stackhbar.js\",transform:k(!0,!0),minDimensions:2,minMeasures:1},{path:\"sfdc-lightning/charts/stackvbar.js\",transform:k(!0,!0),minDimensions:2,minMeasures:1},{path:\"sfdc-lightning/charts/line.js\",transform:k(!0,!0),minDimensions:1,minMeasures:1},{path:\"sfdc-lightning/charts/donut.js\",\ntransform:k(!0,!0),minDimensions:1,minMeasures:1},{path:\"sfdc-lightning/charts/funnel.js\",transform:k(!0,!0),minDimensions:1,minMeasures:1},{path:\"sfdc-lightning/charts/scatter.js\",transform:k(!0,!0),minDimensions:1,minMeasures:1,dupMeasures:!0}];return{getLightningChartWhitelist:F,suggestLightningChart:function(e,a,c,h,f,g,k,m){return E(e,a,c,h,f,g,k,null,null,m)},suggestLightningChartWithPreference:E,assignConfig:z,chartTypesWithCombineSmallGroupIntoOtherOption:{Donut:!0,Pie:!0,Funnel:!0},getWhiteListers:function(){return G},\nfindSuggestedConfig:A}});$A.componentService.addLibraryInclude(\"js://reports.services.ChartSerializationService\",[\"js://reports.services.ReportResultTransformService\",\"js://reports.services.PicklistColorService\",\"js://reports.services.ColorService\"],function(N,ua,X){function F(a,b){if(!a||!a.summaries||!a.summaries.length)return[];var c=a.summaries,d=a.summaryAxisLocations,e=a.summaryVisualizationTypes,g=a.summaryColors,h=a.referenceLineValues,f=a.referenceLineColors,k,m=[],p={};for(k=0;k<c.length;k++)if(!p[c[k]]||!b)p[c[k]]=\n!0,m.push({name:c[k],axis:d&&d[k],visualizationType:e&&e[k],color:g&&g[k],referenceLineValue:h&&h[k],referenceLineColor:f&&f[k]});return m}function va(a,b){return!a.length?[]:a.map(function(a){return{name:a,paletteId:b||a}})}function Y(a,b){return!b?a||[]:(a||[]).reduce(function(a,d,e){void 0!==b[e]&&a.push(b[e]);return a},[])}function Z(a){for(var b=0;b<a.length;b++)for(var c=0;c<a[b].breaks.length;c++)if(null!==a[b].breaks[c].lowerBound||null!==a[b].breaks[c].upperBound)return!0;return!1}function q(a,\nb,c,d,e){a=$A.util.isArray(a)?a:[a];return{fields:a.map(function(a,h){var f={column:a.name+c};a.color?f.color=a.color:d&&(d[h]&&d[h].color)&&(f.color=d[h].color);a.axis===$&&(f.axis=O);a.visualizationType===aa?f.mark=A:a.visualizationType===ba&&(f.mark=G);null!==a.referenceLineValue&&void 0!==a.referenceLineValue&&(f.referenceLines=[{color:a.referenceLineColor||d[0].color,value:a.referenceLineValue}]);if(a.paletteId&&e&&e.length){var k=e.filter(function(b){return b.id===a.paletteId})[0];k?(k.colorMap?\nua.addValueColors(f,k.colorMap,e.stringifyColorMapKeys):f.colors=k.colors,f.__paletteId__=k.id):(f.colors=e[0].colors,f.__paletteId__=e[0].id)}else e&&e.length&&(f.colors=e[0].colors,f.__paletteId__=e[0].id);b&&b[a.name]&&(b[a.name].label&&(f.label=b[a.name].label),b[a.name].dataType&&b[a.name].dataType===wa&&(f.format=[\"#%\",1]));return f})}}function z(a){return a.column.replace(ca,\"\")}function x(a){return a.column.replace(xa,\"\")}function B(a){return a.color||null}function H(a){return a.column.replace(ca,\n\"\")}function da(a){switch(a.axis){case O:return $;default:return I}}function ea(a){switch(a.mark){case A:return aa;case G:return ba;default:return null}}function C(a){return a.referenceLines&&a.referenceLines[0]?a.referenceLines[0].value:null}function D(a){return a.referenceLines&&a.referenceLines[0]?a.referenceLines[0].color:null}function n(a,b){return a&&a[b]&&a[b].fields&&a[b].fields.length}function y(a){if(a)return parseInt(a,10)}function v(a){return void 0!==a&&null!==a?a.toString():P}function Q(a){for(var b=\n[],c={},d=0,e=a.length;d<e;++d)c.hasOwnProperty(a[d])||(b.push(a[d]),c[a[d]]=1);return b}function ya(a,b){if(a){var c=$A.get(\"$Label.LightningDashboard.measureWithCurrency\"),d={},e;for(e in b)summaryLabel=\"currency\"===b[e].dataType?c.replace(\"{0}\",b[e].label).replace(\"{1}\",a):b[e].label,summaryDataType=b[e].dataType,d[e]={label:summaryLabel,dataType:summaryDataType};return d}return b}function fa(a,b,c,d,e,g){var h=F(a,!0);if(!d.length||!h.length)return null;var f=\"Line Cumulative\"===a.chartType||\n\"Line Cumulative Grouped\"===a.chartType,k=0===a.chartType.indexOf(\"Vertical Bar\"),m=\"Line\"===a.chartType||\"Line Grouped\"===a.chartType||f,p=0===a.chartType.indexOf(\"Horizontal Bar\"),l=1<h.length,n=1<d.length,r=m&&n;if(!k&&n&&l)return null;var s={__chartTitle__:a.title||\"\",showValues:a.showChartValues,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision)};(p||k||m)&&J(a.axisRange,s);p&&(s.showChatterPhotos=!!a.showChatterPhotos,s.chatterPhotoUrls=a.chatterPhotoUrls);s={definition:m?\"sfdc-lightning/charts/line.js\":\nk?\"sfdc-lightning/charts/vbar.js\":\"sfdc-lightning/charts/hbar.js\",config:s};if(n||l)s.config.legendPosition=a.legendPosition;s.config.measure=q(h,e,t,r?null:b);s.config.dimension=q(d[0],g,u);n&&(s.config.dimension.fields.push(q(d[1],g,u,null,c).fields[0]),k&&R(s));if(m&&(s.config.axisMode=ga,s.config.__isCumulative__=!!f,n||l))s.config.fillArea=!1;a.showChatterPhotos&&(p&&!n)&&(s.config.dimension.icon={type:\"round\",column:\"icon_url\",stroke:\"#dddddd\"});return s}function R(a){var b=a.config.measure.fields;\n2===b.length&&b[1].mark===A&&(b[1].subtotals=!0,b[1].series=N.SUBTOTAL_SERIES_NAME);a.config.showPoints=!0}function S(a,b){if(\"sfdc-lightning/charts/stackhbar.js\"!==b&&\"sfdc-lightning/charts/stackvbar.js\"!==b&&!a.color)return a;var c=JSON.parse(JSON.stringify(a)),d=\"sfdc-lightning/charts/stackhbar.js\"===b?za:Aa,e={sorting:{type:\"rows\",order:d}},d={sorting:{type:\"rows\",order:d}};e.fields=[];if(a.color&&a.color.fields)for(var g=0;g<a.color.fields.length;g++)e.fields[g]=a.color.fields[g];c.split=e;c.legend=\nd;return c}function ha(a){var b,c;for(c in a)b=X.sanitizeColor(a[c].color),a[c].color=X.alohaToSfxColorConverter(b);return a}function w(a){return!isNaN(parseFloat(a))}function K(a){return[{label:\"\",color:\"#\"+a[0].color},{label:\"\",color:\"#\"+a[1].color},{label:\"\",color:\"#\"+a[2].color}]}function ia(a,b,c){for(var d={},e=0;e<c.length;e++)d[c[e].column]=Ba(a,b,c[e].column);return d}function Ba(a,b,c){var d=b.groupingColumnInfo;a=a.summaries;b=b.detailColumnInfo;return d&&d[c]?d[c].dataType:a&&a.some(function(a){return a===\nc})?\"int\":b&&b[c]?b[c].dataType:\"string\"}function Ca(a,b){var c=a.aggregateColumnInfo,d=a.groupingColumnInfo,e=a.detailColumnInfo;return c&&c[b]?c[b].label:d&&d[b]?d[b].label:e&&e[b]?e[b].label:b}function Da(a){if(n(a,\"dimension\")&&n(a,\"measure\")){var b=a.measure.fields[0],c=a.dimension.fields[0];a.columns=[{column:z(c),label:c.label,type:\"grouping\",showTotal:!1,isPercent:!1,scale:null},{column:x(b),label:b.label,type:\"aggregate\",showTotal:!!a.showTotal,isPercent:!1,scale:null}]}}function T(a,b){if(null!==\na&&0<Object.keys(a).length)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function Ea(a,b){var c=[],d={};T(b.detailColumnInfo,d);T(b.groupingColumnInfo,d);T(b.aggregateColumnInfo,d);var e=a.tableColumns,g;if(!e)return[];for(var h,f=0;f<e.length;f+=1)if(h=e[f],g=d[h.column])g=g.dataType,c.push({column:h.column,label:d[h.column].label,type:-1<[\"int\",\"double\",\"currency\",\"percent\"].indexOf(g)?\"aggregate\":\"grouping\",showTotal:h.showTotal,showSubTotal:h.showSubTotal,isPercent:!1,isCurrency:\"currency\"===\ng,scale:null,columnType:h.type,renderRowCount:\"RowCount\"===h.column,dataType:g});return c}function ja(a,b){if(!a)return!1;for(var c=0;c<a.length;c+=1)if(b(a[c]))return!0;return!1}function U(a,b,c){for(var d in a)if(a.hasOwnProperty(d)&&d===b)return a[d].dataType;if(c){a=c.detailColumnInfo;for(var e in a)if(e===b)return a[e].dataType}return ka}function V(a,b,c,d,e,g){if(g){e=c.numberUnits;g=c.decimalPlaces;var h=la(e,c.labels),f=h.suffix;c=h.multiplier;var k=h.unitLabel,h=ma(d,g,e);f&&!L(b)&&(h=h.concat(f));\nb=k?\" (\"+k+\")\":void 0;d===na&&(h=h.concat(\"%\"));d=oa({},g,e);d={unitConfig:[h,c,d],unitLabel:b}}else d=pa(b,c.numberUnits,c.labels,d,e,c.decimalPlaces);a.format=d.unitConfig;if((d=d.unitLabel)&&a.label)a.label=a.label.concat(d)}function pa(a,b,c,d,e,g){var h=la(b,c),f=h.suffix;c=h.multiplier;var k=h.unitLabel,h=\"false\"!==e.isOrgSingleCurrency,m=e.reportCurrencyCode,p=e.localeCurrencyCode,l=e.localeCurrencySymbol;p||(p=Fa);l||(l=Ga);p=m?m:p;m=ma(d,g,b);f&&!L(a)&&(m=m.concat(f));var n,f=k?\" (\"+k+\")\":\nvoid 0;if(d===qa){if(n=h?l:p?p+\" \":\"\",h||!L(a))a=n,l=m,d=a.concat(l).concat(\";\"),h=(h?\"-\".concat(a):a.concat(\"-\")).concat(l).concat(\";\"),a=a.concat(\"#\"),m=d.concat(h).concat(a)}else d===na&&(m=m.concat(\"%\"));b=oa(e,g,b);return{unitConfig:[m,c,b],unitLabel:f,prefix:n}}function la(a,b){var c,d,e;switch(a){case r.HUNDREDS.label:c=r.HUNDREDS;d=c.multiplier;c=c.symbol;e=b&&b.hundreds?b.hundreds:\"Hundreds\";break;case r.THOUSANDS.label:c=r.THOUSANDS;d=c.multiplier;c=c.symbol;e=b&&b.thousands?b.thousands:\n\"Thousands\";break;case r.MILLIONS.label:c=r.MILLIONS;d=c.multiplier;c=c.symbol;e=b&&b.millions?b.millions:\"Millions\";break;case r.BILLIONS.label:c=r.BILLIONS;d=c.multiplier;c=c.symbol;e=b&&b.billions?b.billions:\"Billions\";break;case r.TRILLIONS.label:c=r.TRILLIONS;d=c.multiplier;c=c.symbol;e=b&&b.trillions?b.trillions:\"Trillions\";break;default:d=1}return{suffix:c,multiplier:d,unitLabel:e}}function ma(a,b,c){if(!b||b===P||c===r.AUTO.label)return a===ka?M:M+\".#\";a=parseInt(b,10);if(0===a)return M;b=\nM+\".\";for(c=0;c<a;c++)b+=\"0\";return b}function L(a){return\"sfdc-lightning/charts/gauge.js\"!==a&&\"sfdc-lightning/charts/metric.js\"!==a}function oa(a,b,c){a={delimiters:{decimal:a.localeNumberDecimalSeparator||Ha,thousands:a.localeNumberGroupingSeparator||Ia}};c===r.AUTO.label&&(a.compactDecimalDigits=isNaN(parseInt(b,10))?parseInt(P,10):parseInt(b,10));return a}function Ja(a){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(a))return a=a.substring(1).split(\"\"),3===a.length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),a=\n\"0x\"+a.join(\"\"),\"rgba(\"+[a>>16&255,a>>8&255,a&255].join()+\",1)\"}function J(a,b){a&&a.rangeType&&(b.axisRange={max:a.max,min:a.min,rangeType:a.rangeType,breakpoints:[a.min,a.max]},b.axisRangeOption=a.rangeType)}function W(a){var b,c,d,e;if(a.axisRangeOption){d=a.axisRangeOption;if(\"manual\"===a.axisRangeOption&&a.axisRange)if(a.axisRange.breakpoints&&0<a.axisRange.breakpoints.length&&(!isNaN(parseFloat(a.axisRange.breakpoints[0],10))||!isNaN(parseFloat(a.axisRange.breakpoints[1],10))))b=a.axisRange.breakpoints[1],\nc=a.axisRange.breakpoints[0],e=a.axisRange.breakpoints;else if(!isNaN(parseFloat(a.axisRange.min,10))||!isNaN(parseFloat(a.axisRange.max,10)))b=a.axisRange.max,c=a.axisRange.min,e=[a.axisRange.min,a.axisRange.max];d={max:b,min:c,rangeType:d,breakpoints:e}}return d}function E(a,b,c){if(a)if(b&&c)for(b=0;b<a.fields.length;b++)a.fields[b].titleMaxLines=ra;else b&&(a.titleMaxLines=ra)}function sa(a){return null!=a&&\"_HL_ENCODED_\"===a.substring(0,12)&&\"_HL_\"===a.substring(a.length-4)}function ta(a){return null!=\na&&\"\\x3ca href\"===a.substring(0,7)&&\"\\x3c/a\\x3e\"===a.substring(a.length-4)}var t=N.VALUE_SUFFIX,xa=RegExp(t+\"$\"),u=N.LABEL_SUFFIX,ca=RegExp(u+\"$\"),O=\"axis2\",I=\"Y\",$=\"Y2\",ga=\"sync\",A=\"line\",G=\"bar\",za=\"asc\",Aa=\"desc\",aa=\"Line\",ba=\"Column\",Ha=\".\",Ia=\",\",Fa=\"\",Ga=\"\",ka=\"int\",qa=\"currency\",na=\"percent\",r={AUTO:{label:\"auto\",multiplier:void 0,symbol:void 0},WHOLE:{label:\"whole\",multiplier:void 0,symbol:void 0},HUNDREDS:{label:\"hundreds\",multiplier:0.01,symbol:\"\\u029c\"},THOUSANDS:{label:\"thousands\",multiplier:0.001,\nsymbol:\"\\u1d0b\"},MILLIONS:{label:\"millions\",multiplier:1E-6,symbol:\"\\u1d0d\"},BILLIONS:{label:\"billions\",multiplier:1E-9,symbol:\"\\u0299\"},TRILLIONS:{label:\"trillions\",multiplier:1E-12,symbol:\"\\u1d1b\"}},wa=\"percent\",ra=2,P=\"-1\",M=\"###,##\";return{wrapAxisTitleText:function(a,b){var c,d;switch(a){case \"Funnel\":case \"Donut\":case \"Metric\":d=b.measure;E(d,!0,!0);break;case \"Scatter Grouped\":case \"Scatter\":c=b.x;d=b.y;E(c,!0,!0);E(d,!0,!0);break;case \"Pie\":case \"Gauge\":case \"Table\":case \"FlexTable\":break;\ndefault:c=b.dimension,d=b.measure,E(c,!0,!1),E(d,!0,!0)}},convertChartConfigToMetadata:function(a,b){var c=b.legendPosition;switch(a){case \"sfdc-lightning/charts/stackhbar.js\":case \"sfdc-lightning/charts/stackvbar.js\":if(n(b,\"dimension\")&&n(b,\"color\")&&n(b,\"measure\")){var d=\"sfdc-lightning/charts/stackvbar.js\"===a,e=1<b.measure.fields.length&&b.measure.fields[1].mark===A,g=d?\"Vertical Bar Stacked\":\"Horizontal Bar Stacked\",h=Math.min(b.measure.fields.length,2),h=b.measure.fields.slice(0,h).map(x);\ne?g+=\" Line\":b.normalize&&(g+=\" to 100\");e={title:b.__chartTitle__,showChartValues:b.showValues,chartType:g,displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),groupings:[b.dimension.fields[0],b.color.fields[0]].map(z),groupingColorPalette:b.color.fields[0].__paletteId__,summaries:h,summaryColors:b.measure.fields.map(B),referenceLineValues:b.measure.fields.map(C),referenceLineColors:b.measure.fields.map(D),summaryAxisLocations:b.measure.fields.map(da),legendPosition:c,axisRange:W(b),axisRangeOption:b.axisRangeOption};\nd&&(e.summaryVisualizationTypes=b.measure.fields.map(ea));return e}break;case \"sfdc-lightning/charts/funnel.js\":if(n(b,\"color\")&&n(b,\"measure\"))return{title:b.__chartTitle__,showChartValues:b.showValues,showChartPercentages:b.showPercentage,chartType:\"Funnel\",displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),groupings:[b.color.fields[0]].map(z),groupingColorPalette:b.color.fields[0].__paletteId__,summaries:[b.measure.fields[0]].map(x),summaryColors:[b.measure.fields[0]].map(B),referenceLineValues:[b.measure.fields[0]].map(C),\nreferenceLineColors:[b.measure.fields[0]].map(D),summaryAxisLocations:[I],legendPosition:c,combineSmallGroups:b.combineSmallGroups};break;case \"sfdc-lightning/charts/donut.js\":if(n(b,\"dimension\")&&n(b,\"measure\"))return{title:b.__chartTitle__,showChartValues:b.showValues,showChartPercentages:b.showPercentage,showChartTotal:b.showCenterValue,chartType:\"Donut\",displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),groupings:[b.dimension.fields[0]].map(z),groupingColorPalette:b.dimension.fields[0].__paletteId__,\nsummaries:[b.measure.fields[0]].map(x),summaryColors:[b.measure.fields[0]].map(B),referenceLineValues:[b.measure.fields[0]].map(C),referenceLineColors:[b.measure.fields[0]].map(D),summaryAxisLocations:[I],legendPosition:c,combineSmallGroups:b.combineSmallGroups};break;case \"sfdc-lightning/charts/gauge.js\":d=!0;case \"sfdc-lightning/charts/metric.js\":if(n(b,\"measure\")){var h=[b.measure.fields[0]].map(x),f=b.ranges,c=[null,null,null,null];f&&(f.breakpoints&&f.breakpoints.length&&(c=f.breakpoints,d||\n(c=[null].concat(c.concat(null)))),f.bands&&3===f.bands.length&&(e=f.bands));e={title:b.__chartTitle__,chartType:d?\"Gauge\":\"Metric\",groupings:[],summaries:h,summaryAxisLocations:[I],breakpoints:[{aggregateName:h[0],breaks:[{lowerBound:c[0],upperBound:c[1],color:e?e[0].color.slice(1):null},{lowerBound:c[1],upperBound:c[2],color:e?e[1].color.slice(1):null},{lowerBound:c[2],upperBound:c[3],color:e?e[2].color.slice(1):null}]}],showRange:b.showRange,displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces)};\nd?(e.showChartPercentages=b.showPercentage,e.showChartTotal=b.showValue):(e.showChartValues=b.showValues,e.metricLabel=b.__chartHeader__);return e}break;case \"sfdc-lightning/charts/scatter.js\":if(n(b,\"dimension\")&&n(b,\"x\")&&n(b,\"y\"))return g=\"Scatter\",h=[b.x.fields[0],b.y.fields[0]],d=[b.dimension.fields[0]],f=b.dimension.fields[0].__paletteId__,n(b,\"color\")&&(g=\"Scatter Grouped\",d.push(b.color.fields[0]),f=b.color.fields[0].__paletteId__),e={title:b.__chartTitle__,showChartValues:b.showValues,chartType:g,\ndisplayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),groupings:d.map(z),groupingColorPalette:f,summaries:h.map(x),summaryColors:h.map(B),summaryAxisLocations:[\"X\",\"Y\"],referenceLineValues:h.map(C),referenceLineColors:h.map(D),axisRange:W(b),axisRangeOption:b.axisRangeOption},1<d.length&&(e.legendPosition=c),e;break;case \"sfdc-lightning/charts/vbar.js\":case \"sfdc-lightning/charts/line.js\":case \"sfdc-lightning/charts/hbar.js\":if(n(b,\"dimension\")&&n(b,\"measure\")){var k=\"sfdc-lightning/charts/line.js\"===\na,h=!k&&\"sfdc-lightning/charts/hbar.js\"!==a,m=\"sfdc-lightning/charts/hbar.js\"===a;if((e=1<b.measure.fields.length&&b.measure.fields[1].mark===A)&&\"sfdc-lightning/charts/hbar.js\"===a)b.measure.fields[1].mark=G;g=k?\"Line\":h?\"Vertical Bar\":\"Horizontal Bar\";k&&!0===b.__isCumulative__&&(g+=\" Cumulative\");var p;n(b,\"color\")?(p=2,d=[b.dimension.fields[0],b.color.fields[0]],f=b.color.fields[0].__paletteId__):(p=Math.min(b.dimension.fields.length,2),d=b.dimension.fields.slice(0,p),f=b.dimension.fields[p-1].__paletteId__);\n1<p&&(g=\"stack\"===b.mode?g+\" Stacked\":g+\" Grouped\");!k&&e&&(g+=\" Line\");e={title:b.__chartTitle__,showChartValues:b.showValues,chartType:g,displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),groupings:d.map(z),groupingColorPalette:f,summaries:b.measure.fields.map(x),summaryColors:b.measure.fields.map(B),referenceLineValues:b.measure.fields.map(C),referenceLineColors:b.measure.fields.map(D),summaryAxisLocations:b.measure.fields.map(da),axisRange:W(b),axisRangeOption:b.axisRangeOption};m&&\n(e.showChatterPhotos=b.showChatterPhotos);h&&(e.summaryVisualizationTypes=b.measure.fields.map(ea));if(1<p||1<e.summaries.length)e.legendPosition=c;return e}break;case \"sfdc/charts/table.js\":if(n(b,\"dimension\")&&n(b,\"measure\"))return h=Q(b.measure.fields.map(x)),c=(f=b.ranges)&&f.breakpoints&&f.breakpoints.length&&b.hasConditionalHighlighting?[null].concat(f.breakpoints.concat(null)):[null,null,null,null],f&&(f.bands&&3===f.bands.length)&&(e=f.bands),{chartType:\"Table\",groupings:Q(b.dimension.fields.map(z)),\nsummaries:h,displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),showChatterPhotos:b.showChatterPhotos,breakpoints:[{aggregateName:h[0],breaks:[{lowerBound:c[0],upperBound:c[1],color:e?e[0].color.slice(1):null},{lowerBound:c[1],upperBound:c[2],color:e?e[1].color.slice(1):null},{lowerBound:c[2],upperBound:c[3],color:e?e[2].color.slice(1):null}]}],hasConditionalHighlighting:b.hasConditionalHighlighting};break;case \"sfdc/charts/flexTable.js\":if(n(b,\"columns\")){c=(f=b.ranges)&&f.breakpoints&&\nf.breakpoints.length&&b.hasConditionalHighlighting?[null].concat(f.breakpoints.concat(null)):[null,null,null,null];f&&(f.bands&&3===f.bands.length)&&(e=f.bands);b.highlightColumn&&(b.highlightColumn.fields&&0<b.highlightColumn.fields.length)&&(g=H(b.highlightColumn.fields[0]));if(h=(h=b.columns)&&h.fields){d=[];for(f=0;f<h.length;f++)\"grouping\"===h[f].columnType&&d.push(h[f]);h=Q(d.map(H))}else h=[];if(d=(d=b.columns)&&d.fields){f=[];for(m=0;m<d.length;m++)\"aggregate\"===d[m].columnType&&f.push(d[m].column);\nd=f}else d=[];p=b.columns;f=!!b.showTotal;m=!!b.showSubTotal;if(p=p&&p.fields){for(var k=[],l=0;l<p.length;l++)k.push({column:H(p[l]),type:p[l].columnType,showTotal:f,showSubTotal:m,dataType:p[l].dataType});f=k}else f=void 0;m=b.sortingColumn&&b.sortingColumn.fields&&b.sortingColumn.fields[0]&&H(b.sortingColumn.fields[0]);return{chartType:\"FlexTable\",groupings:h,summaries:d,tableColumns:f,sort:{column:m,sortOrder:b.sortingColumnOrder||\"asc\",type:\"label\"},displayUnits:b.numberUnits,decimalPrecision:y(b.decimalPlaces),\nshowChatterPhotos:b.showChatterPhotos,breakpoints:[{aggregateName:g,breaks:[{lowerBound:c[0],upperBound:c[1],color:e?e[0].color.slice(1):null},{lowerBound:c[1],upperBound:c[2],color:e?e[1].color.slice(1):null},{lowerBound:c[2],upperBound:c[3],color:e?e[2].color.slice(1):null}]}]}}}return null},convertChartMetadataToConfig:function(a,b,c,d,e,g,h){d=ya(a.currency,b.aggregateColumnInfo);var f=b.groupingColumnInfo;g=Y(a.groupings,g);g=va(g,a.groupingColorPalette);var k=F(a,!1),m,n=!1;switch(a.chartType){case \"Horizontal Bar Stacked\":case \"Horizontal Bar Stacked Line\":case \"Horizontal Bar Stacked to 100\":b=\nF(a,!0);if(2>g.length||!b.length)return null;var k=\"Horizontal Bar Stacked to 100\"===a.chartType,l={definition:\"sfdc-lightning/charts/stackhbar.js\",config:{__chartTitle__:a.title||\"\",legendPosition:a.legendPosition,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),showValues:a.showChartValues,dimension:q(g[0],f,u),color:q(g[1],f,u,null,e),normalize:k}};l.config=S(l.config,l.definition);k?l.config.measure=q(b[0],d,t,c):(l.config.measure=q(b,d,t,c),R(l));J(a.axisRange,l.config);return l;\ncase \"Vertical Bar Stacked Line\":case \"Vertical Bar Stacked\":case \"Vertical Bar Stacked to 100\":b=F(a,!0);if(2>g.length||!b.length)return null;k=\"Vertical Bar Stacked to 100\"===a.chartType;l={definition:\"sfdc-lightning/charts/stackvbar.js\",config:{__chartTitle__:a.title||\"\",showValues:a.showChartValues,legendPosition:a.legendPosition,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),dimension:q(g[0],f,u),color:q(g[1],f,u,null,e,\"value\"),normalize:k}};l.config=S(l.config,l.definition);\nk?l.config.measure=q(b[0],d,t,c):(l.config.measure=q(b,d,t,c),R(l));J(a.axisRange,l.config);return l;case \"Funnel\":return!g.length||!a.summaries.length?null:{definition:\"sfdc-lightning/charts/funnel.js\",config:{__chartTitle__:a.title||\"\",legendPosition:a.legendPosition,showValues:a.showChartValues,combineSmallGroups:a.combineSmallGroups,showPercentage:a.showChartPercentages,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),color:q(g,f,u,null,e),measure:q(k,d,t,c)}};case \"Pie\":if(!h)return null;\ncase \"Donut\":if(!g.length||!a.summaries.length)return null;b=\"none\";a.showChartValues?b=\"compactNumber\":a.showChartPercentages&&(b=\"percent\");return{definition:\"sfdc-lightning/charts/donut.js\",config:{__chartTitle__:a.title||\"\",legendPosition:a.legendPosition,showValues:a.showChartValues,showPercentage:a.showChartPercentages,showCenterValue:a.showChartTotal,combineSmallGroups:a.combineSmallGroups,valueType:b,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),dimension:q(g,f,u,null,e),\nmeasure:q(k,d,t,c)}};case \"Scatter Grouped\":if(2>g.length)return null;m=a.legendPosition;case \"Scatter\":if(2>k.length||!g.length)return null;l={definition:\"sfdc-lightning/charts/scatter.js\",config:{__chartTitle__:a.title||\"\",legendPosition:m,showValues:a.showChartValues,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),x:q(k[0],d,t),y:q(k[1],d,t),dimension:q(g[0],f,u)}};1<g.length?l.config.color=q(g[1],f,u,c,e):l.config.markColor=Ja(c[0].color);J(a.axisRange,l.config);return l;case \"Gauge\":if(0===\nk.length||!a.breakpoints||0===a.breakpoints.length)return null;a.breakpoints&&0<a.breakpoints.length&&(b=ha(a.breakpoints[0].breaks))&&(l={extremas:!0,breakpoints:[w(b[0].lowerBound)?b[0].lowerBound:null,w(b[0].upperBound)?b[0].upperBound:null,w(b[1].upperBound)?b[1].upperBound:null,w(b[2].upperBound)?b[2].upperBound:null],bands:K(b)});return{definition:\"sfdc-lightning/charts/gauge.js\",config:{__chartTitle__:a.title||\"\",measure:q(k[0],d,t),ranges:l,showPercentage:a.showChartPercentages,showRange:a.showRange,\nnumberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),showValue:a.showChartTotal}};case \"Metric\":if(0===k.length)return null;if(a.breakpoints&&0<a.breakpoints.length&&(b=ha(a.breakpoints[0].breaks)))var r={extremas:!1,breakpoints:[w(b[0].upperBound)?b[0].upperBound:null,w(b[1].upperBound)?b[1].upperBound:null],bands:K(b)};return{definition:\"sfdc-lightning/charts/metric.js\",config:{__chartTitle__:a.title||\"\",measure:q(k[0],d,t),ranges:r,showRange:a.showRange,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),\nshowValues:a.showChartValues}};case \"Table\":if(!k.length||!g.length)return null;d={dimension:q(g,f,u),measure:q(k,d,t),columns:a.tableColumns,sortInfo:a.sortInfo,isInNetworkContext:!!a.isInNetworkContext,numberUnits:a.displayUnits,decimalPlaces:v(a.decimalPrecision),showChatterPhotos:!!a.showChatterPhotos,chatterPhotoUrls:a.chatterPhotoUrls};if(d.columns)for(c=0;c<d.columns.length;c++)d.columns[c].label=Ca(b,d.columns[c].column);else Da(d);d.columnDataTypes=ia(a,b,d.columns);if(a.breakpoints&&(0<\na.breakpoints.length&&a.breakpoints[0].breaks)&&(b=a.breakpoints[0].breaks,c=[b[0].upperBound,b[1].upperBound],d.hasConditionalHighlighting=Z(a.breakpoints),w(c[0])||w(c[1])))d.ranges={aggregateName:a.breakpoints[0].aggregateName,breakpoints:c,bands:K(b)};return{definition:\"sfdc/charts/table.js\",config:d};case \"FlexTable\":d={};c=Ea(a,b);e=(f=a.sort||a.sortInfo)&&f.column;f=f&&f.sortOrder;d.columns=c;d.columnDataTypes=ia(a,b,d.columns);d.sortingColumn={column:e,selectedColumns:c};d.sortingColumnOrder=\nf||\"asc\";d.numberUnits=a.displayUnits;d.decimalPlaces=v(a.decimalPrecision);d.showChatterPhotos=!!a.showChatterPhotos;d.chatterPhotoUrls=a.chatterPhotoUrls;d.highlightColumn={selectedColumns:c};d.showTotal=ja(c,function(a){return a.showTotal});d.showSubTotal=ja(c,function(a){return a.showSubTotal});if(a.breakpoints&&(0<a.breakpoints.length&&a.breakpoints[0].breaks)&&(b=a.breakpoints[0].breaks,c=[b[0].upperBound,b[1].upperBound],d.hasConditionalHighlighting=Z(a.breakpoints),w(c[0])||w(c[1])))d.highlightColumn.column=\na.breakpoints[0].aggregateName,d.ranges={aggregateName:a.breakpoints[0].aggregateName,breakpoints:c,bands:K(b)};return{definition:\"sfdc/charts/flexTable.js\",config:d};case \"Vertical Bar Grouped Line\":case \"Vertical Bar Grouped\":case \"Line Grouped\":case \"Line Cumulative Grouped\":if(2>g.length)return null;case \"Vertical Bar Line\":case \"Vertical Bar\":case \"Line\":case \"Line Cumulative\":return fa(a,c,e,g,d,f);default:if(!h)return null;n=!0;case \"Horizontal Bar Grouped\":if(!n&&2>g.length)return null;case \"Horizontal Bar\":return fa(a,\nc,e,g,d,f)}},setLocalizedUnitConfig:function(a,b,c,d,e,g,h){var f=1;if(b.labels){if(b.measure){for(var k=b.measure.fields,m=0;m<k.length;m++)V(k[m],a,b,U(c,d[m],g),e,h);k[0]&&(k[0].format&&1<k[0].format.length)&&(f=k[0].format[1])}else if(b.x&&b.y){if(!d||2>d.length)return;V(b.x.fields[0],a,b,U(c,d[0],g),e,h);V(b.y.fields[0],a,b,U(c,d[1],g),e,h);b.y.fields[0]&&1<b.y.fields[0].format.length&&(f=b.y.fields[0].format[1])}h||(a=pa(a,b.numberUnits,b.labels,qa,e,b.decimalPlaces),b.tableCurrencyPrefix=a.prefix);\nb.valueType=!1===b.showValues?\"none\":\"auto\"===b.numberUnits?\"compactNumber\":\"number\";b.axisRange&&((a=b.axisRange)&&\"manual\"===a.rangeType&&1!==f?(c=null===a.max?null:a.max*f,f=null===a.min?null:a.min*f,f={max:c,min:f,rangeType:a.rangeType,breakpoints:[f,c]}):f=a,b.axisRange=f)}},isComboChartRequiredForConfig:function(a){return(a=(a=a&&a.measure)&&a.fields)&&2<a.length||a&&2===a.length&&a[0].mark&&a[1].mark&&a[0].mark!==a[1].mark},resetStackbarSortOrderByChartType:S,convertDecimalPrecision:v,ECLAIR_AXIS1:\"axis1\",\nECLAIR_AXIS2:O,ECLAIR_AXIS_MODE_SYNC:ga,ECLAIR_AXIS_MODE_DUAL:\"dual\",ECLAIR_MARK_LINE:A,ECLAIR_MARK_BAR:G,ECLAIR_MODE_CLUSTER:\"cluster\",ECLAIR_MODE_STACK:\"stack\",cleanseReportChartMetadata:function(a){a&&(delete a.displayUnits,delete a.showChatterPhotos,delete a.axisRange,delete a.axisRangeOption,delete a.decimalPrecision)},displayHyperlinksWithoutHtml:function(a,b,c,d){if(L(a)&&!(\"sfdc/charts/table.js\"===a||\"sfdc/charts/flexTable.js\"===a)){a=[];for(var e=0;e<b.length;e++){var g=b[e];null!=g&&null!=\ng.name&&(g=c&&c.groupingColumnInfo&&c.groupingColumnInfo[g.name])&&\"html\"===g.dataType&&a.push(e)}b=d.reportResult&&d.reportResult.groupingsDown&&d.reportResult.groupingsDown.groupings;if(null!=b&&(c=-1!==a.indexOf(0),d=-1!==a.indexOf(1),c||d))for(a=0;a<b.length;a++)if(e=b[a],null!=e&&(c&&(sa(e.value)&&ta(e.label))&&(e.label=e.value),d&&null!=e.groupings)){e=e.groupings;for(g=0;g<e.length;g++){var h=e[g];null!=h&&(sa(h.value)&&ta(h.label))&&(h.label=h.value)}}}},cleanseReportMetadataForDashboards:function(a){a&&\ndelete a.presentationOptions},\"@test\":{lockGroupingOrder:Y}}});$A.componentService.addLibraryInclude(\"js://reports.services.ErrorService\",[],function(){function a(){this.Warning=\"warning\";this.Error=\"error\";this.metricsServiceNameSpace=\"reportPage\"}a.prototype.handleCreateComponentError=function(a,b,c,d){};a.prototype.renderMessageComponent=function(a,b,c){$A.createComponent(\"force:message\",{severity:c,body:b},function(d,b,c){\"SUCCESS\"===b?a.set(\"v.body\",d):this.handleCreateComponentError(\"createErrorMessage\",d,c)})};return new a});$A.componentService.addLibraryInclude(\"js://reports.services.FlattenService\",[],function(){function f(a,b,c){this.reportData=a;this.rowLimit=b;this.columnLimit=c}f.prototype.flattenGrouping=function(a){if(!a||!a.length)return[];var b=[],c=[],e=[];a=a.slice();for(c.push(a);;)if(a.length){var d=a.shift();e.push(d);d.groupings&&d.groupings.length?(a=d.groupings.slice(),c.push(a)):(b.push({key:d.key,trace:e.slice()}),e.pop())}else if(1<c.length)c.pop(),e.pop(),a=c[c.length-1];else break;return b};f.prototype.collectRows=\nfunction(a,b,c){if(c.length>=this.rowLimit)return!0;var e=$A.util.lookup(this.reportData,\"factMap\"),d=(a&&a.key||0)+\"!\"+(b&&b.key||\"T\"),e=e[d]&&e[d].aggregates,h=this;if(e&&e.length){for(var f={},d=0;d<(a&&a.trace&&a.trace.length);d++){var k=$A.util.lookup(this.reportData,\"reportMetadata\",\"groupingsDown\",d,\"name\");f[k]=a.trace.slice(0,d+1).map(function(a){return a.label}).join(\" - \")}for(d=0;d<(b&&b.trace&&b.trace.length);d++)a=$A.util.lookup(this.reportData,\"reportMetadata\",\"groupingsAcross\",d,\"name\"),\nf[a]=b.trace.slice(0,d+1).map(function(a){return a.label}).join(\" - \");$A.util.forEach(e,function(a,b){var c=$A.util.lookup(h.reportData,\"reportMetadata\",\"aggregates\",b);a&&(f[c]=a.value)});c.push(f)}};f.prototype.collectDimensions=function(){var a=[],b=this;$A.util.forEach($A.util.lookup(b.reportData,\"reportMetadata\",\"groupingsAcross\"),function(c){var e=$A.util.lookup(b.reportData,\"reportExtendedMetadata\",\"groupingColumnInfo\",c.name,\"label\");a.push({column:c.name,label:e})});$A.util.forEach($A.util.lookup(b.reportData,\n\"reportMetadata\",\"groupingsDown\"),function(c){var e=$A.util.lookup(b.reportData,\"reportExtendedMetadata\",\"groupingColumnInfo\",c.name,\"label\");a.push({column:c.name,label:e})});return a};f.prototype.collectMeasures=function(){var a=[],b=this;$A.util.forEach($A.util.lookup(b.reportData,\"reportMetadata\",\"aggregates\"),function(c){var e=$A.util.lookup(b.reportData,\"reportExtendedMetadata\",\"aggregateColumnInfo\",c,\"label\");a.push({column:c,label:e})});return a};f.prototype.flattenRows=function(){var a=this.flattenGrouping($A.util.lookup(this.reportData,\n\"groupingsDown\",\"groupings\")),b=this.flattenGrouping($A.util.lookup(this.reportData,\"groupingsAcross\",\"groupings\")),c=this.collectDimensions(),e=this.collectMeasures(),d=[],f=this,g=!1,g=a.length?$A.util.some(a,function(a){return!b||!b.length?f.collectRows(a,{trace:[],key:\"T\"},d):$A.util.some(b,function(b){return f.collectRows(a,b,d)})}):$A.util.some(b,function(a){return f.collectRows({trace:[],key:\"T\"},a,d)});return{rows:d,dimensions:c,measures:e,isRowLimitExceeded:g}};f.prototype.flattenAggregates=\nfunction(a){var b=this.flattenGrouping($A.util.lookup(this.reportData,a,\"groupings\")),c=!1,e=[],d=this;b.length&&(c=$A.util.some(b,function(b){return d.collectRows(\"groupingsDown\"===a?b:{trace:[],key:\"T\"},\"groupingsAcross\"===a?b:{trace:[],key:\"T\"},e)}));return{rows:e,isRowLimitExceeded:c}};return f});$A.componentService.addLibraryInclude(\"js://reports.services.ReportResultTransformService\",[],function(){function C(){return\"undefined\"===typeof $A?sa:$A.util}function I(a){return a.map(function(a){return a.name})}function E(a,b){if(null==a||0>=b)return[];for(var c=[],d=a.map(function(a){return[a]});d.length;){var e=d.shift();if(e.length===b)c.push(e);else for(var f=e[e.length-1].groupings,k=0;k<f.length;++k){var g=f[k],h=e.slice();h.push(g);d.push(h)}}return c}function aa(a){a=a.split(\"!\");return a[a.length-\n1]}function ta(a,b,c,d,e,f){d=d[e];if(!d)return!1;c=b[c]&&b[c].aggregates[e];if(!c)return!1;f||(f=\"\");b=c?c.label:\"0\";c=c?c.value:0;e=f+d;var k=D;k.groupAggregatesByField?(-1!==d.indexOf(\"!\")&&(e=f+aa(d)),a[e]||(a[e]=[]),a[e+F]||(a[e+F]=[]),a[e].push(b),a[e+F].push(c)):k.labelOnly?(a[e]=b,a[e+F]=c):k.valueOnly?a[e]=void 0!==a[e]?a[e]+c:c:void 0!==a[e+v]?(a[e+v]+=c,a[e+u]=a[d+v]+\"\"):(a[e+u]=b,a[e+v]=c);return!0}function P(a,b,c,d,e,f,k){for(var g=!1,h=0;h<d.length;++h)f&&-1!==f.indexOf(d[h])||ta(a,\nb,c,e,h,k)&&(g=!0);return g}function J(a,b,c,d,e){for(var f=0;f<b.length;++f){var k=b[f],g=c[f],h=d[g].dataType,l=\"url\"===h&&k.value||k.label||ba,m=k.value;if(null===m&&(\"date\"===h||\"datetime\"===h)&&l!==ba)m=l;a[g+F]={label:k.label,value:k.value,parsedLabel:l,parsedValue:m};D.labelOnly?a[g]=Y(h,m,l,k.escapedLabel,void 0,k.photoUrl):D.valueOnly?a[g]=m:(a[g+u]=l,a[g+v]=m,(k=ua(a,g,e,h))&&(a[va]=k))}}function ca(a,b,c,d){for(var e=0;e<c.length;e++){var f=c[e],k=b[e];if(k){var g=d[f].dataType,h=\"url\"===\ng?k.value:k.label;a[f]=Y(g,k.value,k.label,k.escapedLabel,h,k.photoUrl);a[f+F]={value:k.value,label:k.label};k.escapedLabel&&(a[f+F].escapedLabel=k.escapedLabel);h&&(a[f+F].formattedLabel=h);k.photoUrl&&(a[f+F].photoUrl=k.photoUrl)}}}function Y(a,b,c,d,e,f){return d?{escapedLabel:d,label:c}:D.allowMultipleLabels&&\"string\"===a&&b&&b!==c?f?{label:c,id:b,photoUrl:f}:{label:c,id:b}:\"string\"===typeof e?e:c}function Ka(a,b,c,d){for(var e=d.reportMetadata,f=d.factMap,k=d.reportExtendedMetadata.groupingColumnInfo,\ng=A(d,!0),h=A(d,!1),g=(d=0!==g.length)?g:h,e=I(e[d?\"groupingsDown\":\"groupingsAcross\"]),g=E(g,1),h=0;h<g.length;h++){var l=g[h],m={};J(m,l,e,k);if(!ta(m,f,d?l[0].key+\"!T\":\"T!\"+l[0].key,b,c))return a;m.__series__=wa;a.push(m)}}function U(a,b,c){var d={};return P(d,a.factMap,c||R,a.reportMetadata.aggregates,b)?[d]:[]}function xa(a,b){var c=a.reportMetadata.aggregates.indexOf(b);return-1===c?null:a.factMap[R].aggregates[c]}function La(a,b,c,d,e){var f=a.reportMetadata,k=f.aggregates,g=a.factMap,h=a.reportExtendedMetadata.groupingColumnInfo,\nl=A(a,!0),m=A(a,!1),m=(a=0!==l.length)?l:m,f=I(f[a?\"groupingsDown\":\"groupingsAcross\"]),l=[];b=E(m,b);for(var m={},n=0;n<b.length;++n){var p=b[n],r={},q,s=!1;J(r,p,f,h,e);var t=JSON.stringify(r);q=m[t];void 0!==q?(q=l[q],s=!0):(m[t]=l.length,q=r);if(P(q,g,a?p[p.length-1].key+\"!T\":\"T!\"+p[p.length-1].key,k,c)){if(d&&l.length>=d)break}else return[];s||l.push(r)}return l}function Ma(a,b,c,d){var e=a.reportMetadata,f=A(a,!1),k=a.factMap,g=e.aggregates,h=e.groupingsAcross;a=a.reportExtendedMetadata.groupingColumnInfo;\nvar l=h.length;if(l+e.groupingsDown.length<b)return[];b=Math.min(l,b);f=E(f,b);h=I(h);b=[];for(e=0;e<f.length;++e){var l=f[e],m={};J(m,l,h,a);if(P(m,k,\"T!\"+l[l.length-1].key,g,c)){if(d&&b.length>=d)break}else return[];b.push(m)}return b}function Na(a,b,c,d){var e=a.reportMetadata,f=A(a,!0),k=A(a,!1),g=a.factMap,h=e.aggregates,l=e.groupingsDown,e=e.groupingsAcross;a=a.reportExtendedMetadata.groupingColumnInfo;var m=l.length;if(e.length+m<b)return[];m=Math.min(m,b);b=Math.max(0,b-m);f=E(f,m);k=E(k,\nb);l=I(l);e=I(e);b=[];for(m=0;m<f.length;++m){var n=f[m],p;if(k.length)for(var r=0;r<k.length;++r){p=k[r];var q={};J(q,n,l,a);J(q,p,e,a);if(p=P(q,g,n[n.length-1].key+\"!\"+p[p.length-1].key,h,c)){if(d&&b.length>=d)return b}else return[];b.push(q)}else{r={};J(r,n,l,a);if(p=P(r,g,n[n.length-1].key+\"!T\",h,c)){if(d&&b.length>=d)break}else return[];b.push(r)}}return b}function G(a){return a===da||a===Oa||a===ea||a===Z}function B(a,b,c,d,e,f,k){if(a.label){var g=null!=a.value.amount?a.value.amount:a.value,\nh;if(e===$){e=a.label;var l=b.localeNumberDecimalSeparator;l?(l=e.indexOf(l),h=-1===l?ya:e.substr(l+1).split(/\\D/)[0].length):h=c===ea||c===Z||d===x.WHOLE.label?ya:Pa}else h=e;e=b.localeNumberGroupingSeparator||Qa;l=b.localeNumberDecimalSeparator||Ra;d===x.AUTO.label?(d=g,null==d?d=void 0:(d=Math.abs(d),d=d<x.THOUSANDS.value?x.WHOLE:d<x.MILLIONS.value?x.THOUSANDS:d<x.BILLIONS.value?x.MILLIONS:d<x.TRILLIONS.value?x.BILLIONS:x.TRILLIONS)):d=k.displayUnit;c===da&&a.value.currency&&(f=a.value.currency+\n\" \");k=c===ea&&!k.removePercentageSymbol;g=(g*d.multiplier).toFixed(h).split(\".\");g[0]=g[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,e);g=g.join(l).concat(d.symbol);c===da&&f?g=\"true\"===b.isOrgSingleCurrency&&\"-\"===g.charAt(0)?g.slice(0,1)+f+g.slice(1):f.concat(g):k&&(g=g.concat(\"%\"));a.label=g}}function za(a,b){if(null===a||null==b)return Z;for(var c=0;c<b.length;c++){var d=b[c];if(d&&d.apiColumnName===a)return d.dataType}return Z}function fa(a,b){var c,d;switch(a){case x.HUNDREDS.label:c=x.HUNDREDS;d=b&&\nb.hundreds?b.hundreds:\"Hundreds\";break;case x.THOUSANDS.label:c=x.THOUSANDS;d=b&&b.thousands?b.thousands:\"Thousands\";break;case x.MILLIONS.label:c=x.MILLIONS;d=b&&b.millions?b.millions:\"Millions\";break;case x.BILLIONS.label:c=x.BILLIONS;d=b&&b.billions?b.billions:\"Billions\";break;case x.TRILLIONS.label:c=x.TRILLIONS;d=b&&b.trillions?b.trillions:\"Trillions\";break;default:c=x.WHOLE}return{displayUnit:c,unitLabel:d?\" (\"+d+\")\":void 0,removePercentageSymbol:!1}}function Aa(a,b,c,d){if(!a||0===a.length)return a;\na:{if(d&&d.groupingColumnInfo&&(d=d.groupingColumnInfo[c])){d=d.dataType;break a}d=void 0}for(var e={},f=0;f<a.length;f++){var k=a[f],g=\"\";c&&(g=\"id\"===d||\"string\"===d&&k[c+v]!==k[c+u]?k[c+u]:k[c+v]);var h=e[g];if(h)for(var l=0;l<b.length;l++){var m=b[l],n=m+v,p=h[n]+k[n];k[m+u]=p+\"\";k[n]=p}e[g]=k}}function Ba(a,b,c){var d=c+u,e;!a||!d?a=void 0:(a.dimension&&a.dimension.fields&&(e=Ca(a.dimension.fields,d)),!e&&(a.color&&a.color.fields)&&(e=Ca(a.color.fields,d)),a=e);if(a&&b&&c){d={};for(e=0;e<b.length;e++){var f=\nb[e];d[f[c+v]]=f[c+u]}a.valueLabels=d;a.column=c+v}}function Ca(a,b){if(a&&C().isArray(a))for(var c=0;c<a.length;c++)if(a[c].column===b)return a[c]}function Da(a){Array.isArray(a)||(a=[a]);var b=[];a.forEach(function(a){\"string\"===typeof a&&-1!==a.indexOf(\",\")&&(a='\"'+a+'\"');b.push(a)});return b}function ga(a){return JSON.stringify({groupValue:a})}function Ea(a,b,c,d,e){b={column:a,operator:b,value:Da(c).join(\", \")};a:{var f,k=a+u;for(a=0;a<e.length;a++)for(f in c=e[a],c)if(c[f]===k){e=c.label;break a}e=\nvoid 0}return{filter:b,valueLabel:d,dimLabel:e}}function ha(a,b,c,d,e,f){var k,g,h,l,m,n,p,r,q,s,t=1<a.length,w=RegExp(v+\"$\");if(0===a.length)return[];for(k=0;k<b.length;k++)for(g in p=b[k],r=0,s=[],q=a.slice(),p){if(g.match(w)&&(h=p[g],l=q.indexOf(h),-1<l)){r++;q.splice(l,1);l=g.substring(0,g.length-u.length);m=p[l+u];try{n=JSON.parse(h).groupValue}catch(y){n=\"\"}if(c&&c[l])switch(h=c[l].dataType,h){case \"string\":case \"reference\":m!==ba&&(n=m,n=0<n.indexOf(\",\")?\"'\"+n+\"'\":n);break;case \"currency\":n instanceof\nObject&&(n=n.amount);break;case \"multipicklist\":n&&n.constructor===Array&&(n=0===n.length?\"\":n.join(\"; \"));break;case \"date\":case \"datetime\":h=(h=Fa(e,l))||Fa(d,l);if(!h){f&&f($A.get(\"$Label.DashboardFilterErrors.unknown\"));return}var z;switch(h.dateGranularity){case \"None\":case \"Day\":break;case \"Week\":z=K(l,n,m,{days:7});break;case \"Month\":z=K(l,n,m,{months:1});break;case \"Quarter\":case \"FiscalQuarter\":z=K(l,n,m,{months:3});break;case \"Year\":case \"FiscalYear\":z=K(l,n,m,{years:1});break;default:f&&\nf($A.get(\"$Label.POneDrillToReport.ChartNotFilterable\"));return}if(z){s.push(z[0]);s.push(z[1]);continue}break;case \"boolean\":n=\"true\"===m?\"True\":\"False\";break;case \"url\":0===n.indexOf(\"http://\")&&(n=[n.substr(7),n])}s.push({dimApiName:l,chartSelectionValue:null===n||void 0===n?\"\":n,chartSelectionLabel:m})}if(!t&&1===r||2===r)return s}return[]}function Fa(a,b){if(a&&C().isArray(a))for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return null}function K(a,b,c,d){if(d.days||d.months||d.years){var e=\n$A.localizationService.parseDateTime(b);d.days&&e.setDate(e.getDate()+d.days);d.months&&e.setMonth(e.getMonth()+d.months);d.years&&e.setFullYear(e.getFullYear()+d.years);e=new Date(e.getTime()-6E4*e.getTimezoneOffset());e=e.toISOString().substring(0,10);return[{dimApiName:a,chartSelectionValue:b,chartSelectionLabel:c,operator:\"greaterOrEqual\"},{dimApiName:a,chartSelectionValue:e,chartSelectionLabel:c,operator:\"lessThan\"}]}}function Sa(a,b){var c,d,e;for(c=0;c<a.length;c++)for(d=0;d<b.length;d++)e=\nb[d]+v,null===a[c][e]&&(a[c][e]=Ta),void 0!==a[c][e]&&(a[c][e]=ga(a[c][e]))}function Ga(a){return a.groupingsDown.concat(a.groupingsAcross).map(function(a){return a.name})}function S(a,b,c){for(var d=0;d<a.length;d++){for(var e=a[d],f=[],k=[],g=0;g<e.length;g++){var h=e[g];f.push(h.key);0===g?k.push([h]):k.push(k[g-1].concat([h]))}for(;0<f.length;)g=f.pop(),e=k.pop(),h=b.indexOf(g),0<=h&&(delete b[h],delete c[h]),b.push(g),c.push(e)}}function ia(a,b,c,d,e,f){if(D.groupAggregatesByField){a[L]={};for(var k=\n0;k<b.length;k++)if(f=c[b[k].key+\"!T\"].aggregates[d.indexOf(L)])a[L][e[k]]=f.value}else if(b=c[b[b.length-1].key+\"!T\"].aggregates,d=0===f.length&&!D.useReportMetadataAggregateOrder?b.length-1:d.indexOf(L),f=b[d])a[L]=f.value}function ja(a){return a.map(function(a){var c=a.blockId;return a.detailColumns.reduce(function(a,b){a[b]=c+M+b;return a},{})})}function ka(a,b){for(var c=[],d=[],e={},f=0,k=a.length;f<k;f++){var g=a[f],h=g.split(M);2>h.length||(h[1]===L?b[h[0]]&&c.push(g):d.push(g),e[g]=f)}return{recordCountAggregates:c,\notherAggregates:d,indexByAggregate:e}}function la(a,b,c,d,e,f){for(var k=0,g=0,h=e.length;g<h;g++){var l=c[g][b]&&c[g][b].dataCells;if(l&&l.length)for(var m=e[g].detailColumns,n=f[g].detailColumnInfo,p=d[g],r=0,q=m.length;r<q;r++){var s=m[r],t=l[r],w=n[s].dataType;a[p[s]]=Y(w,t.value,t.label,t.escapedLabel,\"url\"===w?t.value:t.label)}else a[\"~~\"+e[g].blockId+\"~~\"]=!1,k++}k===e.length&&(a[H]=!0)}function ma(a,b){for(var c={},d=0,e=a.length;d<e;d++){var f=a[d],k=f.split(M),k=k[0]+M+aa(k[1]);c[f]=k}d=\n0;for(e=b.length;d<e;d++)f=b[d],f.hasRecordCount&&(c[f.blockId+M+L]=f.blockId+M+f.detailColumns[0]);return c}function na(a,b){var c={},d,e,f;d=0;for(e=a.length;d<e;d++)f=a[d],c[f]=f;d=0;for(e=b.length;d<e;d++)f=b[d],c[f]=f;return c}function N(a,b,c,d,e){for(var f=0,k=b.length;f<k;f++){var g=b[f],h=e[g],g=d[g],g=c[g]&&c[g].label;if(h&&g){if(D.groupAggregatesByField){var l=a[h];l?l.push(g):a[h]=[g]}else a[h]=g;a[H]=!1}}}function Ha(a,b,c,d,e,f,k,g){a=C().copy(a);var h=!0,l=b;if(!c.showSubtotals&&(c.hasDetailRows||\nb!==c.groupingsDown.length))return null;a[H]=!0;N(a,f,d,e,g);N(a,k,d,e,g);c.hasDetailRows?l-=1:h=l<c.groupingsDown.length;a[V]=l;a[T]=h;return a}function oa(a,b,c,d,e,f){a={};a[Q]=!0;N(a,d,b,c,f);N(a,e,b,c,f);return a}function pa(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.blockId]=d.hasRecordCount}return b}function Ua(a){var b=a.reportMetadata,c=A(a,!0),d=a.factMap,e=b.aggregates,f=b.groupingsDown||[],k=b.blocks,g=a.reportExtendedMetadata.groupingColumnInfo,h=a.reportExtendedMetadata.blocks,\nl=b.hasDetailRows;a=[];var m=[],n=[],c=E(c,f.length);S(c,m,n);for(var f=I(f),c=ja(k),p=pa(k),r=ka(e,p),e=r.recordCountAggregates,p=r.otherAggregates,r=r.indexByAggregate,q=l?ma(p,k):na(p,e),s={},t,w=0;w<m.length;w++)if(m[w]){var y=m[w]+\"!T\",z=n[w],O=d[y],y={factMapKey:y};J(y,z,f,g);!b.hasDetailRows&&(t&&t[0]!==z[0])&&(y[W]=!0);for(var x=O.blockRows&&l&&O.blockRows.reduce(function(a,b){return Math.max(a,b.length)},0)||0,v=0;v<x;v++){var u=C().copy(y);la(u,v,O.blockRows,c,k,h);if(!u[H]){b.hasDetailRows&&\n(0===v&&t&&t[0]!==z[0])&&(u[W]=!0);a.push(u);for(u=0;u<z.length;u++)s[z[u].key]=!0}}if(!l||s[m[w]])if((O=Ha(y,z.length,b,O.aggregates,r,e,p,q))&&(l||!O[H])&&a.push(O),!O||l||!O[H])t=z}b.showGrandTotal&&(b=oa(b,d[R].aggregates,r,e,p,q),b[X]=0,a.push(b));return{rows:a}}function Va(a){var b=a.reportMetadata,c=a.factMap,d=b.aggregates,e=b.blocks;a=a.reportExtendedMetadata.blocks;for(var f=b.hasDetailRows,k=ja(e),g=pa(e),h=ka(d,g),d=h.recordCountAggregates,g=h.otherAggregates,l=h.indexByAggregate,m=f?\nma(g,e):na(g,d),h=[],n=c[R],f=n.blockRows&&f&&n.blockRows.reduce(function(a,b){return Math.max(a,b.length)},0)||0,p=0;p<f;p++){var r={};la(r,p,n.blockRows,k,e,a);r[H]||h.push(r)}b.showGrandTotal&&(b=oa(b,c[R].aggregates,l,d,g,m),h.push(b));return{rows:h}}function qa(a,b){var c;if(!a||0===a.length)return\"T\";if(1===a.length)return c=Ia(b,a[0]),c.key;c=Ia(b,a[0]);return qa(a.slice(1),c.groupings)}function Ia(a,b){for(var c=0;c<a.length;c++)if(a[c].label===b)return a[c]}function Ja(a,b,c,d,e){for(var f=\n[],k=0;k<a.length;k++){var g=\"\";if(k<c[b].length)var h=c[b][k],l=e[a[k]].dataType,g=\"url\"===l?h.value:h.label,g=Y(l,h.value,h.label,h.escapedLabel,g);else g=k===d?0===d?D.labels.grandTotal:D.labels.subtotal:\"\";f.push(g)}return f}function ua(a,b,c,d){var e=a[b+v];a=a[b+u];d=!c&&(\"id\"===d||\"string\"===d)&&e!==a&&e&&-1<[Wa,Xa].indexOf(e.substring(0,Ya))?D.astroUrl:void 0;if(d)return d;if(c&&c[e])return c[e].chatterPhotoUrl}function A(a,b){var c=b?a.groupingsDown:a.groupingsAcross,d;c&&(d=c.groupings);\nreturn d||[]}var R=\"T!T\",F=\"_rawData\",u=\"_label\",v=\"_value\",Wa=\"005\",Xa=\"0F9\",Ya=3,ba=\"-\",Ta=\"\",ra=\"xY0xzwqvy\"+(window.testMode?\"\":(new Date).getTime()),wa=\"total\",Q=\"~~isGrandtotal~~\",T=\"~~isSubtotal~~\",V=\"~~subtotalLabelIndex~~\",X=\"~~grandTotalLabelIndex~~\",W=\"~~newDownGroup~~\",H=\"~~emptyRow~~\",L=\"RowCount\",M=\"#\",Ra=\".\",Qa=\",\",Z=\"int\",Oa=\"double\",da=\"currency\",ea=\"percent\",x={AUTO:{label:\"auto\",multiplier:void 0,symbol:void 0},WHOLE:{label:\"whole\",multiplier:1,symbol:\"\"},HUNDREDS:{label:\"hundreds\",\nmultiplier:0.01,value:100,symbol:\"\\u029c\"},THOUSANDS:{label:\"thousands\",multiplier:0.001,value:1E3,symbol:\"\\u1d0b\"},MILLIONS:{label:\"millions\",multiplier:1E-6,value:1E6,symbol:\"\\u1d0d\"},BILLIONS:{label:\"billions\",multiplier:1E-9,value:1E9,symbol:\"\\u0299\"},TRILLIONS:{label:\"trillions\",multiplier:1E-12,value:1E12,symbol:\"\\u1d1b\"}},va=\"icon_url\",$=-1,Pa=2,ya=0,D={labels:{},labelOnly:!1,valueOnly:!1,allowMultipleLabels:!1,groupAggregatesByField:!1,astroUrl:\"\",presentationOptions:{},useReportMetadataAggregateOrder:!1},\nsa;\"undefined\"===typeof $A&&(sa={copy:function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}});return{lookupEclairRowsByLabels:ha,formatAndGetFilterValues:function(a,b,c,d,e,f,k,g){var h;b=[];var l=d&&d.dimensions,m=f.groupingColumnInfo,n=e.groupingsDown,p=e.groupingsAcross;if(C().isArray(a)&&0===a.length)return[];if(g){b=[];l=[];d=d&&d.dimensions;f=f.groupingColumnInfo;g=e.groupingsDown;n=e.groupingsAcross;m={};for(e=0;e<a.length;e++)(p=ha([a[e]],c,f,g,n,k))&&0<p.length&&b.push(p[0]);\nif(b.length){for(e=0;e<b.length;e++)h=b[e].dimApiName,a=C().isArray(b[e].chartSelectionValue)?b[e].chartSelectionValue:[b[e].chartSelectionValue],m[h]=m[h]?m[h].concat(a):a;1===Object.keys(m).length&&l.push(Ea(h,\"equals\",m[h],\"Other\",d));h=[l]}else h=void 0;return h}if(a=ha(a,c,m,n,p,k)){for(h=0;h<a.length;h++)c=a[h].dimApiName,k=a[h].operator||\"equals\",b.push(Ea(c,k,a[h].chartSelectionValue,a[h].chartSelectionLabel,l));return[b]}},\"@test\":{getPrefixedDetailColumnMapByBlock:ja,splitMultiBlockAggregates:ka,\ngetColumnAssociatedWithAggregate:aa,getAggregateMappingForMultiBlockWithDetails:ma,getAggregateMappingForMultiBlockNoDetails:na,addDetailsToMultiBlockRow:la,addAggregatesToRowWithMapping:N,buildMultiBlockTotalRow:oa,buildMultiBlockSubtotalRow:Ha,getHasRecordCountMap:pa},escapeCommas:Da,convertToEclairRows:function(a,b,c,d,e,f,k,g,h,l){var m=a.reportMetadata,n=m.groupingsDown,p=m.groupingsAcross,r=m.aggregates,m=(c||[]).reduce(function(a,b){var c=r.indexOf(b);0<=c&&(a[c]=b);return a},{}),q=n.length,\ns=p.length;g=!g&&2===b&&2<=q+s&&2<=c.length;b||(b=q+s);if(0===q&&0===s)return h?U(a,m):[];b=0===s||0===q?La(a,b,m,d,l):k?Ma(a,b,m,d):Na(a,b,m,d);g&&Ka(b,m,r.indexOf(c[c.length-1]),a);(\"string\"===typeof e||e instanceof String)&&Aa(b,r,e,a.reportExtendedMetadata);if(f){c=[];for(a=0;a<n.length;a++)c.push(n[a].name);for(a=0;a<p.length;a++)c.push(p[a].name);Sa(b,c)}return b},addChatterPhotoUrls:function(a,b,c,d,e,f){var k;f[b]&&(k=f[b].dataType);if(\"Bar\"===c&&e&&e>=a.length)for(c=0;c<a.length;c++)e=a[c],\n(f=ua(e,b,d,k))&&(e[va]=f);return a},convertToCumulative:Aa,convertFilterArrayValueToString:function(a){var b,c,d=0;if(C().isArray(a[0])&&1===a[0].length)for(;d<a[0].length;d++)b=a[0][d].filter.value,c=[],C().isArray(b)&&(b.forEach(function(a){c.push(\"'\"+(a+\"\").replace(\"'\",\"\\\\'\")+\"'\")}),a[0][d].filter.value=c.join(\",\"));return a},addValueLabels:Ba,addValueLabelsForGroups:function(a,b,c){var d;for(d=0;d<c.length;d++)Ba(a,b,c[d]);if(a.split&&a.color.fields){a.split.fields=[];for(d=0;d<a.color.fields.length;d++)a.split.fields[d]=\na.color.fields[d]}},removeValueLabels:function(a){var b;if(a){b=[];b.push(a.dimension&&a.dimension.fields);b.push(a.color&&a.color.fields);for(a=0;a<b.length;a++){var c=b[a],d=void 0,e=void 0,e=void 0,f=RegExp(\"(.*)\"+v+\"$\");if(c)for(d=0;d<c.length;d++)if(c[d].valueLabels&&(delete c[d].valueLabels,e=(e=c[d].column.match(f))&&e[1]))c[d].column=e+u}}},normalizeChartSelectionLabelsUsingValueLabels:function(a,b){if(!C().isArray(a)||0===a.length)return[];if(b){var c;try{c=JSON.parse(a)}catch(d){return[]}return C().isArray(c)?\nc:a}return a},isChartSelectionOtherBucket:function(a){if(!C().isArray(a)||1!==a.length)return!1;try{return JSON.parse(a[0]).groupValue===ra}catch(b){return!1}},combineSmallGroupsToOther:function(a,b,c,d){var e=b+u;b+=v;var f=c[0]+u,k=c[0]+v,g=0,h=0,l=[],m={},n=[],p=[];for(c=0;c<a.length;c++)g+=a[c][k];if(0<g){for(c=0;c<a.length;c++)0.03<a[c][k]/g?l.push(a[c]):(n.push(a[c][e]),p.push(a[c][b]),h+=a[c][k]);0<h&&(m[e]=d||$A.get(\"{!$Label.Report.Other}\"),m[b]=ga(ra),m[f]=h+\"\",m[k]=h,m.labelsValuesFromSmallGroupingInOther=\n{otherGroupLabels:n,otherGroupValues:p},l.push(m))}else l=a;return l},configureSummaryFlexTableUnits:function(a,b,c){var d=a.groupingsDown.groupings;if(!d||0===d.length)return a;var e=b.columns;if(!b.columns||0===b.columns.length)return a;var f=a.reportMetadata&&a.reportMetadata.groupingsDown&&a.reportMetadata.groupingsDown.length,k=a.factMap,g=b.tableCurrencyPrefix,h=b.labels,l=b.numberUnits,m=null==b.decimalPlaces?$:parseInt(b.decimalPlaces,10),h=fa(l,h),n,p,r=e[0].dataType,q,s;p=1<f&&e[1].dataType;\nvar t=G(r),w=G(p);if(t||w)for(n in d)if(p=d[n])if(t&&null!=p.value&&B(p,c,r,l,m,g,h),w&&(p=p.groupings))for(q in p)(s=p[q])&&null!=s.value&&B(s,c,r,l,m,g,h);for(t=f;t<e.length;t++)if(r=e[t].dataType,G(r))for(n in d)if(p=d[n],(s=(s=k[p.key+\"!T\"])&&s.aggregates&&s.aggregates[t-f])&&null!=s.value&&B(s,c,r,l,m,g,h),p=p&&p.groupings)for(q in p)s=p[q],(s=(s=k[s.key+\"!T\"])&&s.aggregates&&s.aggregates[t-f])&&null!=s.value&&B(s,c,r,l,m,g,h);d=a.factMap&&a.factMap[\"T!T\"];e=a.reportMetadata;f=a.reportExtendedMetadata;\nif(b.showTotal&&d&&d.aggregates&&0<d.aggregates.length)for(b=0;b<d.aggregates.length;b++)k=e.aggregates[b],k=f.aggregateColumnInfo[k]&&f.aggregateColumnInfo[k].dataType,n=d.aggregates[b],G(k)&&n&&B(n,c,k,l,m,g,h);return a},configureFlexTableUnits:function(a,b,c){if(a.factMap[\"T!T\"]&&a.factMap[\"T!T\"].rows&&0!==a.factMap[\"T!T\"].rows.length){for(var d=a.factMap[\"T!T\"].rows,e=b.columns,f=b.numberUnits,k=null==b.decimalPlaces?$:parseInt(b.decimalPlaces,10),g=b.tableCurrencyPrefix,h=null==d?0:d.length,\nl=0<h&&d[0].dataCells?d[0].dataCells.length:0,m=fa(f,b.labels),n=0;n<l;n++){var p=e[n].dataType;if(G(p))for(var r=0;r<h;r++){var q=d[r].dataCells[n];null!=q.value&&B(q,c,p,f,k,g,m)}}if((a=a.factMap[\"T!T\"].aggregates)&&0<a.length&&b.showTotal)for(d=0;d<a.length;d++)e=b.aggregatesDataType&&b.aggregatesDataType[d]&&b.aggregatesDataType[d].dataType,G(e)&&B(a[d],c,e,f,k,g,m)}},configureTableUnits:function(a,b,c,d){if(a.factMap[\"T!T\"]&&a.factMap[\"T!T\"].rows&&0!==a.factMap[\"T!T\"].rows.length){for(var e=\na.factMap[\"T!T\"].rows,f=b.columns,k=b.numberUnits,g=b.measure&&b.measure.fields&&1<b.measure.fields.length,h=[],l=null==b.decimalPlaces?$:parseInt(b.decimalPlaces,10),m=l,n=b.tableCurrencyPrefix,p=null==e?0:e.length,r=0<p&&e[0].dataCells?e[0].dataCells.length:0,q=fa(k,b.labels),s,t=0,w=0;w<r;w++){var y=f[w];if(\"aggregate\"===y.type){s=d&&t<d.length?d[t]:null;t++;s=za(s,b.aggregatesDataType);for(var z=0;z<p;z++){var u=e[z].dataCells[w];null==u.value||null==u.label||(g&&(m=u.label,!1===y.isPercent&&\nm&&-1!==m.indexOf(\"%\")?(u.label=m.replace(/%/g,\"\"),q.removePercentageSymbol=!0):q.removePercentageSymbol=!1,m=null==y.scale?l:y.scale,h.length+1===w&&h.push(m)),B(u,c,s,k,m,n,q))}}}t=0;if((a=a.factMap[\"T!T\"].aggregates)&&0<a.length)for(e=0;e<a.length;e++)if(s=d&&t<d.length?d[t]:null,t++,s=za(s,b.aggregatesDataType),a[e]&&(a[e].label&&!(\"\"===a[e].label||null===a[e].value))&&G(s))g&&h.length>e&&(m=h[e]),B(a[e],c,s,k,m,n,q)}},getOrderedAxesFromMetadata:function(a,b,c){var d,e,f,k;b.availableDashboardSettings?\n(d=b.availableDashboardSettings.names,e=b.availableDashboardSettings.values,f=Object.keys(d),b=Object.keys(e)):(d=b.groupingColumnInfo,e=b.aggregateColumnInfo,f=Ga(a),b=a.aggregates);if(c&&c.categories){c=c.categories;var g,h;k=[];for(var l=0;l<c.length;l+=1){g=c[l].columns;for(var m in g)g.hasOwnProperty(m)&&(h={column:m+u,label:g[m].label,type:g[m].dataType},k.push(h))}}m=f.map(function(a){return{column:a+u,label:d[a]?d[a].label:\"\",type:d[a]?d[a].dataType:\"\"}});var n=\"MULTI_BLOCK\"==a.reportFormat?\n\"fullLabel\":\"label\";a=b.map(function(a){return{column:a+v,label:e[a]?e[a][n]:\"\",type:e[a]?e[a].dataType:\"\"}});return{dimensions:m,measures:a,columns:k}},getOrderedGroupingsFromMetadata:Ga,summaryTotal:U,getTotalValue:function(a,b){var c=xa(a,b);return c?c.value:null},getTotalLabelAndValue:xa,VALUE_SUFFIX:v,LABEL_SUFFIX:u,LABELS_VALUES_FROM_SMALL_GROUPINGS_IN_OTHER:\"labelsValuesFromSmallGroupingInOther\",OTHER_GROUPING_SELECTION_KEY:ra,stringifyGroupValueObject:ga,flattenTable:function(a){switch(a.reportMetadata.reportFormat){case \"TABULAR\":for(var b=\na.reportMetadata,c=b.aggregates,d=b.detailColumns,e=a.reportExtendedMetadata.detailColumnInfo,b=[],f=a.factMap[R],k=f.rows&&f.rows.length||0,g=0;g<k;g++){var h={};ca(h,f.rows[g].dataCells,d,e);b.push(h)}if(1<c.length||c[0]!==L)a=U(a,c),0<a.length&&(a[0][Q]=!0,b.push(a[0]));return{rows:b};case \"SUMMARY\":var c=a.reportMetadata,l=c.groupingsDown.length,b=c.aggregates,k=c.detailColumns,d=a.factMap,h=a.reportExtendedMetadata.groupingColumnInfo,m=a.reportExtendedMetadata.detailColumnInfo,n=A(a,!0),e=I(c[0!==\nn.length?\"groupingsDown\":\"groupingsAcross\"]),f=[];if(l){var p=[],r=[],l=E(n,l);S(l,p,r);for(l=0;l<p.length;l++)if(p[l]){var q=p[l]+\"!T\",s=r[l],n=d[q],t={factMapKey:q};J(t,s,e,h);!c.hasDetailRows&&(g&&g[0]!==s[0])&&(t[W]=!0);for(var w=n&&n.rows&&n.rows.length||0,y=0;y<w;y++){var u=C().copy(t);ca(u,n.rows[y].dataCells,k,m);c.hasDetailRows&&ia(u,s,d,b,e,c.detailColumns);c.hasDetailRows&&(0===y&&g&&g[0]!==s[0])&&(u[W]=!0);f.push(u)}g=s;a:{var n=t,t=c,w=d,y=b,u=e,v=void 0,x=void 0,B=!0,v=C().copy(n);if(t.hasDetailRows&&\n0!==t.detailColumns.length){if(!t.showSubtotals){n=null;break a}P(v,w,q,y,y,[L]);x=s.length-1}else{if(!t.showSubtotals&&s.length!==u.length){n=null;break a}P(v,w,q,y,y);x=s.length;B=x<u.length;ia(v,s,w,y,u,t.detailColumns)}v[V]=x;v[T]=B;n=v}n&&f.push(n)}}a=U(a,b);c.showGrandTotal&&0<a.length&&(a=a[0],a[Q]=!0,a[X]=0,f.push(a),ia(a,[{key:\"T\"}],d,b,e,c.detailColumns));return{rows:f};case \"MATRIX\":b=a.reportMetadata;l=A(a,!0);r=A(a,!1);g=a.factMap;d=b.aggregates;p=b.groupingsDown;m=b.groupingsAcross;\na=a.reportExtendedMetadata.groupingColumnInfo;e=(D&&D.presentationOptions||{}).hasStackedSummaries;h=p.length;f=m.length;t=E(l,h);w=E(r,f);n=I(p);m=I(m);q=[];s=[];p=[];r=[];l=[];S(t,q,s);S(w,p,r);q.push(\"T\");s.push([]);p.push(\"T\");r.push([]);for(t=0;t<q.length;t++)if(q[t]){w={};y=s[t];J(w,y,n,a);k&&k[0]!==y[0]&&(w[W]=!0);k=y;for(c=0;c<p.length;c++)if(p[c])if(x=q[t]+\"!\"+p[c],u=p[c]+\"~~\",e){if(u=w,v=g,B=d,v[x]){for(var G=[],H=[],M=x.split(\"!\")[1],K=0;K<B.length;++K){var N=v[x].aggregates[K];N?(G.push(N.label),\nH.push(N.value)):(G.push(\" \"),H.push(null))}u[M]=G;u[M+F]=H}}else P(w,g,x,d,d,null,u);if(0===y.length){if(!b.showGrandTotal)continue;w[Q]=!0;w[X]=y.length}else if(y.length<h){if(!b.showSubtotals)continue;w[T]=!0;w[V]=y.length}l.push(w)}k=[];for(c in p)if(e){g=r[c];h={key:p[c],labels:Ja(m,c,r,g.length,a)};if(0===g.length){if(!b.showGrandTotal)continue;h[Q]=!0;h[X]=g.length}else if(g.length<f){if(!b.showSubtotals)continue;h[T]=!0;h[V]=g.length}k.push(h)}else for(n=0;n<d.length;n++){g=r[c];h={key:p[c]+\n\"~~\"+d[n],labels:Ja(m,c,r,g.length,a)};if(0===g.length){if(!b.showGrandTotal)continue;h[Q]=!0;h[X]=g.length}else if(g.length<f){if(!b.showSubtotals)continue;h[T]=!0;h[V]=g.length}k.push(h)}return{rows:l,columns:k};case \"MULTI_BLOCK\":return a=a.reportMetadata.groupingsDown.length?Ua(a):Va(a),a}},flattenMatrixDetails:function(a,b,c){var d=a.reportMetadata,e=A(a,!0),f=A(a,!1),k=a.factMap,g=d.aggregates,h=d.detailColumns,l=a.reportExtendedMetadata.detailColumnInfo,m=d.groupingsAcross.length,n=E(e,d.groupingsDown.length),\np=E(f,m),m=[],d=[],e=[],r=[],f=[],q;b||(b=[]);c||(c=[]);var s=qa(b,A(a,!0));q=qa(c,A(a,!1));s=s+\"!\"+q;S(n,m,d);S(p,e,r);m.push(\"T\");d.push([]);e.push(\"T\");r.push([]);n=0;a:for(;n<m.length;n++)if(m[n]){p=d[n];for(q=0;q<b.length;q++)if(!p[q]||p[q].label!==b[q])continue a;p=0;b:for(;p<e.length;p++)if(e[p]){var t=r[p];for(q=0;q<c.length;q++)if(!t[q]||t[q].label!==c[q])continue b;q=k[m[n]+\"!\"+e[p]];for(var t=q.rows&&q.rows.length||0,u=0;u<t;u++){var v={};ca(v,q.rows[u].dataCells,h,l);f.push(v)}}}a=U(a,\ng,s);0<a.length&&(a=a[0],a[Q]=!0,f.push(a));return{rows:f}},SUBTOTAL_SERIES_NAME:wa,getCumulativeGroupName:function(a){var b;if(!0===a.__isCumulative__){var c=[\"\"];a.dimension&&(c=c.concat(a.dimension.fields));a.color&&(c=c.concat(a.color.fields));2<c.length&&(b=(a=c[c.length-1])&&a.column?a.column.replace(RegExp(u+\"$\"),\"\"):void 0);return b||\"\"}},setConfig:function(a){D=a},IS_GRAND_TOTAL:Q,IS_SUBTOTAL:T,RAW_DATA_SUFFIX:F,createDateRangeFilters:K}});$A.componentService.addLibraryInclude(\"js://reports.services.Tooltip\",[],function(){function a(){this.onMouseLeave=this.bind(this.onMouseLeave,this);this.onMouseEnter=this.bind(this.onMouseEnter,this);this.el=document.body.appendChild(document.createElement(\"div\"));this.el.className=\"ng-charthover\";this.content=this.el.appendChild(document.createElement(\"div\"));this.content.className=\"content\";this.arrow=this.el.appendChild(document.createElement(\"span\"));this.arrow.className=\"arrow\";this.el.addEventListener(\"mouseleave\",\nthis.onMouseLeave);this.el.addEventListener(\"mouseenter\",this.onMouseEnter)}a.prototype.bind=function(a,d){return function(){return a.apply(d,arguments)}};a.ARROW_WIDTH=40;a.ARROW_HEIGHT=8;a.ARROW_PADDING=2;a.ARROW_OFFSET_X=a.ARROW_HEIGHT+a.ARROW_PADDING;a.ARROW_OFFSET_Y=a.ARROW_WIDTH/2;a.DELAY=300;a.prototype.el=null;a.prototype.content=null;a.prototype.arrow=null;a.prototype.timer=null;a.prototype.show=function(t,d,h,k,e,l){null==e&&(e=!1);null==l&&(l=\"\");this.hide();return this.timer=setTimeout(function(m){return function(){var e,\nc,b,f,g,n,p,q,s;p=window.innerWidth;n=window.innerHeight;m.el.className=\"ng-charthover \"+l;m.content.textContent=h;g=m.el.offsetWidth;f=m.el.offsetHeight;q=0;for(s=k.length;q<s;q++){b=k[q];e=b[0];c=b[1];b=b[2];c+=t;b+=d;switch(e){case \"leftTop\":c+=a.ARROW_OFFSET_X;b-=a.ARROW_OFFSET_Y;break;case \"leftBottom\":c+=a.ARROW_OFFSET_X;b-=f-a.ARROW_OFFSET_Y;break;case \"rightTop\":c-=g+a.ARROW_OFFSET_X;b-=a.ARROW_OFFSET_Y;break;case \"rightBottom\":c-=g+a.ARROW_OFFSET_X;b-=f-a.ARROW_OFFSET_Y;break;case \"topRight\":c-=\ng-a.ARROW_OFFSET_Y;b+=a.ARROW_OFFSET_X;break;case \"topLeft\":c-=a.ARROW_OFFSET_Y;b+=a.ARROW_OFFSET_X;break;case \"bottomRight\":c-=g-a.ARROW_OFFSET_Y;b-=f+a.ARROW_OFFSET_X;break;case \"bottomLeft\":c-=a.ARROW_OFFSET_Y,b-=f+a.ARROW_OFFSET_X}if(!(c+g>p)&&!(b+f>n)&&!(0>c)&&!(0>b))break}0>c&&(c=0);c+g>p&&(c=p-g);0>b&&(b=0);b+f>n&&(b=n-f);m.arrow.className=\"arrow \"+e+\" \";e=m.el;f={left:c+\"px\",top:b+\"px\"};var r;n=[];for(r in f)g=f[r],n.push(e.style[r]=g);return m.el.style.visibility=\"visible\"}}(this),a.DELAY)};\na.prototype.hide=function(){this.timer&&clearTimeout(this.timer);return this.el.style.visibility=\"hidden\"};a.prototype.formatTruncationHtml=function(a,d){return'\\x3cdiv class\\x3d\"truncation-text\" style\\x3d\"font-size: '+d+'px;\"\\x3e'+utils.escapeHtml(a)+\"\\x3c/div\\x3e\"};a.prototype.formatTooltipHtml=function(a){var d,h,k,e,l;l=[];k=0;for(e=a.length;k<e;k++)h=a[k],d=h[0],h=h[1],d=d?\"\\x3clabel\\x3e\"+utils.escapeHtml(d)+\"\\x3c/label\\x3e\":\"\",l.push(\"\\x3cdiv class\\x3d'line'\\x3e\"+d+\"\\x3cspan\\x3e\\x3cb\\x3e\"+utils.escapeHtml(h)+\n\"\\x3c/b\\x3e\\x3c/span\\x3e\\x3c/div\\x3e\");return l.join(\"\")};a.prototype.onMouseEnter=function(){return this.el.style.visibility=\"visible\"};a.prototype.onMouseLeave=function(){return this.el.style.visibility=\"hidden\"};return new a});$A.componentService.addLibraryInclude(\"js://reports.services.TableChartRenderingService\",[\"js://reports.services.Tooltip\",\"js://reports.services.ColorService\"],function(y,s){function f(){m=y}function z(a){return $A.util.some(a,function(a,c,d){return a.showTotal})}function v(a,b){if(b)for(var c=b.parentNode;c;){if(a===c)return!0;c=c.parentNode}return!1}function w(a,b,c){var d=document.createElement(\"a\");d.href=a;d.textContent=b;d.target=c?\"_blank\":\"_parent\";return d}function A(a,b){var c=document.createElement(\"a\");\nc.setAttribute(\"title\",b);c.textContent=b;c.onclick=function(){$A.getEvt(\"markup://force:navigateToSObject\").setParams({recordId:a}).fire()};return c}function u(a){switch(a){case \"boolean\":case \"int\":case \"double\":case \"currency\":case \"percent\":return!0}return!1}function x(a,b){return window._?_.sortBy(a,b):a.sort(function(a,d){return a[b]-d[b]})}function B(a,b){return window._?_.sortBy(a,function(a){return a[b+l][b.toLowerCase()]}):a.sort(function(a,d){return a[b+l][b.toLowerCase()]-d[b+l][b.toLowerCase()]})}\nvar l=\"_value\",m;f.prototype.setCanvasId=function(a){this.canvasId=a;this.getTableComponentWrapper()};f.prototype.setTableComponentWrapper=function(a){this.tableCompWrapperEl=a};f.prototype.setAvoidFloatingTable=function(a){this.avoidFloatingTable=a};f.prototype.setNoDataMessage=function(a){this.noDataMessage=a};f.prototype.getHeaderCssName=function(){return\"headerRow\"};f.prototype.getTableComponentWrapper=function(){return this.tableCompWrapperEl=this.tableCompWrapperEl||document.getElementById(this.canvasId)};\nf.prototype.render=function(a,b,c){var d;d=document.createElement(\"div\");d.className=\"tableWrapper\";this.height&&(d.style.height=this.height+\"px\");this.width&&(d.style.width=this.width+\"px\");if(c&&0<c.length){this.scriptPath=a;this.config=b;this.grandTotalRow=c[c.length-1];this.rows=c.slice(0,c.length-1);a=this.rows;c=this.config.columns;if(!this.isFlexTable()){for(var e=[],h=0;h<a.length;h++){for(var g=0,f=0,k=0;k<c.length;k++)\"aggregate\"===c[k].type&&(g++,null===a[h][c[k].column+l]&&f++);(0===g||\ng!==f)&&e.push(a[h])}a=e}this.rows=a;a=this.rows;c=this.config;e=c.sortInfo;h=c.columns;if(g=e)if(g=e.column)if(g=e.sortOrder){b:{for(g=0;g<h.length;g++)if(h[g].column===e.column){h=h[g].type;break b}h=void 0}g=\"aggregate\"===h}g&&(h=a,h=\"string\"===c.columnDataTypes[e.column]?x(a,e.column+\"_label\"):a&&0<a.length&&\"object\"===typeof a[a.length-1][e.column+l]?B(a,e.column):x(a,e.column+l),a=\"desc\"===e.sortOrder?h.reverse():h);this.rows=a;if(b.ranges){b=this.rows;a=this.config;e=a.ranges;a=a.columns;h=\ne.aggregateName;c=e.bands;for(k=0;k<c.length;k++)f=c[k],g=s.sanitizeColor(f.color),f.color=\"#\"+s.alohaToSfxColorConverter(g),f.textColor=\"#\"+s.alohaToSfxTextColorConverter(g);e=e.breakpoints;a:{for(g=0;g<a.length;g++)if(a[g].column===h){h=g;break a}h=-1}g=[];if(-1<h)for(k=0;k<b.length;k++){var p=f={},r=h,n=b[k][a[h].column+l],m=c,q=e,t=void 0;a[h].isCurrency&&n&&(n=n.amount);isNaN(parseFloat(n))||(!isNaN(parseFloat(q[0]))&&n<q[0]&&(t=m[0]),!isNaN(parseFloat(q[0]))&&n>=q[0]&&(t=m[1]),!isNaN(parseFloat(q[1]))&&\nn>=q[1]&&(t=m[2]));p[r]=t;g.push(f)}b=g}else b=[];this.highlightedRows=b;b=this.rows;h=this.config;g=this.isTable();f=this.isFlexTable();a={};c=h.chatterPhotoUrls;e=h.columns;if(h.showChatterPhotos&&c&&!(0===Object.keys(c).length||g&&20<b.length||f&&200<b.length))for(p=0;p<b.length;p++){h=b[p];k={};for(r=0;r<e.length;r++)if(f=e[r].column,(g=c[h[f+l]])&&!k[f])k[f]=g.chatterPhotoUrl,a[p]=k}this.chatterPhotoUrls=a;this.chatterPhotoUrlsLength=Object.keys(this.chatterPhotoUrls).length;this.rows&&0<this.rows.length?\n(d.appendChild(this.generateTable()),this.avoidFloatingTable||d.appendChild(this.generateFloatingTable())):d.appendChild(this.generateNoDataDiv())}else d.appendChild(this.generateNoDataDiv());this.remove();this.getTableComponentWrapper().appendChild(d)};f.prototype.generateNoDataDiv=function(){var a=document.createElement(\"div\");a.className=\"noDataTableComp\";a.textContent=this.noDataMessage;return a};f.prototype.generateTable=function(){var a=document.createElement(\"div\");a.setAttribute(\"class\",\"tableContainer\");\na.appendChild(this.renderTable());return a};f.prototype.generateFloatingTable=function(){var a=document.createElement(\"div\");a.setAttribute(\"class\",\"floatingTableContainer\");a.appendChild(this.renderFloatingTable());return a};f.prototype.renderTable=function(){var a=document.createElement(\"table\"),b=document.createElement(\"thead\"),c=this.config.columns&&this.config.columns.length;a.className=\"dashboardTable\";1<c&&(a.className=a.className+\" col\"+c);b.appendChild(this.renderHeader());a.appendChild(b);\nb=this.renderData();for(c=0;c<b.length;c++)a.appendChild(b[c]);b=this.renderFooter();null!==b&&a.appendChild(b);return a};f.prototype.renderFloatingTable=function(){var a=document.createElement(\"table\"),b=document.createElement(\"thead\");a.className=\"floatingTable\";b.appendChild(this.renderHeader());a.appendChild(b);return a};f.prototype.renderHeader=function(){var a;a=this.config;var b=a.columns,c=a.columnDataTypes,d=document.createElement(\"tr\"),e=a.sortingColumn&&a.sortingColumn.column;a=a.sortingColumnOrder;\nvar h;\"asc\"===a?h=\"tableAscending\":\"desc\"===a&&(h=\"tableDescending\");d.className=\"headerRow\";for(var g=0;g<b.length;g++)a=document.createElement(\"th\"),a.textContent=b[g].label,this.addTooltipHandle(a,b[g].label),a.setAttribute(\"scope\",\"col\"),u(c[b[g].column])&&(a.className=\"numericCell\"),e===b[g].column&&(a.className+=\" \"+h),d.appendChild(a);return d};f.prototype.renderFooter=function(){var a=this.config.columns,b,c,d,e;if(!z(a))return null;b=document.createElement(\"tr\");b.className=\"footerRow\";c=\ndocument.createElement(\"td\");d=$A.get(\"$Label.DashboardTableComponent.total\");e=document.createElement(\"div\");e.textContent=d;e.className=\"footerTotalLabel\";c.appendChild(e);if(e=this.grandTotalRow[a[0].column+\"_label\"])d=document.createElement(\"div\"),d.textContent=e,d.className=\"footerTotalValue numericCell\",c.appendChild(d);b.appendChild(c);d=this.config.columnDataTypes;for(e=1;e<a.length;e++)c=document.createElement(\"td\"),(this.config.showTotal||a[e].showTotal)&&u(d[a[e].column])&&this._populateFooterCell(c,\nthis.grandTotalRow[a[e].column+\"_label\"],\"numericCell\"),b.appendChild(c);return b};f.prototype._populateFooterCell=function(a,b,c){a.className=c;a.textContent=b;this.addTooltipHandle(a,b);return a};f.prototype.renderData=function(){for(var a=this.config.columns,b=this.rows,c,d,e=[],h=0;h<b.length;h++){c=document.createElement(\"tr\");c.className=\"bodyRow\";for(var g=0;g<a.length;g++)d=this.createTableCell(\"td\",h,g),c.appendChild(d);e.push(c)}return e};f.prototype.highlightDataCell=function(a,b,c,d){if(this.highlightedRows&&\nthis.highlightedRows[c]&&this.highlightedRows[c][d]){var e=document.createElement(\"span\");c=this.highlightedRows[c][d];c.textColor=s.getTextColorFor(c.color);e.textContent=b;e.setAttribute(\"class\",\"conditionalHighlight\");e.style.backgroundColor=c.color;e.style.color=\"#\"+c.textColor;a.appendChild(e)}else a.textContent=b};f.prototype.createTableCell=function(a,b,c){var d,e,h,g,f;e=this.rows;d=this.config.columns;h=this.config.columnDataTypes;f=d[c].column;h=h[f];g=d[c].type;d=e[b][f+l];e=e[b][f+\"_label\"];\na=document.createElement(a);if(\"-\"===e)return a;if(\"id\"===h||\"string\"===h&&\"aggregate\"!==g&&d&&d!==e){if(b=this.getChatterPhotoUrl(f,b))c=document.createElement(\"span\"),f=document.createElement(\"img\"),g=\"tableChatterPhotos slds-avatar slds-avatar--x-small\",b?(f.setAttribute(\"src\",b),f.setAttribute(\"alt\",e)):g+=\"slds-avatar--empty\",c.setAttribute(\"class\",g),c.appendChild(f),a.appendChild(c);$A.get(\"$Browser\").isPhone||$A.get(\"$Browser\").isTablet?d=A(d,e):(b=window.self!==window.top?parent.location:\nwindow.location,this.config.isInNetworkContext?(c=$A.get(\"$SfdcSite.pathPrefix\"),d=b.origin+(c?c:\"\")+\"/\"+d):d=(null!=b?b.origin:void 0)+(null!=b?\"/one/one.app\":void 0)+(\"#/sObject/\"+d+\"/view\"),d=w(d,e,this.config.isInNetworkContext));a.appendChild(d)}else\"url\"===h?a.appendChild(w(d,d,this.config.isInNetworkContext)):\"html\"===h?(d=document.createElement(\"div\"),d.innerHTML=e,this._scrubAnchorTagsInHTML(d),a.appendChild(d)):\"aggregate\"===g?this.highlightDataCell(a,e,b,c):a.textContent=e;u(h)&&(a.className=\n\"numericCell\");this.addTooltipHandle(a,e);return a};f.prototype._scrubAnchorTagsInHTML=function(a){var b;a=a.querySelectorAll(\"a\");for(var c=0;c<a.length;c++)b=a[c],\"_blank\"!==b.target&&(b.target=\"_top\")};f.prototype.addTooltipHandle=function(a,b){this.config.hideTooltip||(a.setAttribute(\"data-label\",b),a.addEventListener(\"mouseover\",this.mouseOverHandle,!1),a.addEventListener(\"mouseout\",this.mouseOutHandle,!1))};f.prototype.mouseOverHandle=function(a){if(!v(this,a.relatedTarget)&&a.target==this&&\n(a=a.target,a.clientWidth<a.scrollWidth)){var b=a.getBoundingClientRect();m.show((b.left+b.right)/2,b.bottom,a.getAttribute(\"data-label\"),[[\"topLeft\",0,-10]],!1,\"dash_table_tooltip\")}};f.prototype.mouseOutHandle=function(a){!v(this,a.relatedTarget)&&a.target==this&&a.target.clientWidth<a.target.scrollWidth&&m.hide()};f.prototype.getChatterPhotoUrl=function(a,b){var c=this.chatterPhotoUrls;if(0<this.chatterPhotoUrlsLength&&c[b]&&c[b][a])return c[b][a]};f.prototype.resize=function(a,b){this.width=a;\nthis.height=b;var c=this.getTableComponentWrapper();c&&(c.childNodes&&0<c.childNodes.length)&&c.childNodes[0].setAttribute(\"style\",\"height:\"+b+\"px; width: \"+a+\"px;\")};f.prototype.remove=function(){for(var a=this.getTableComponentWrapper();a.hasChildNodes();)a.removeChild(a.lastChild)};f.prototype.isTable=function(){return\"sfdc/charts/table.js\"===this.scriptPath};f.prototype.isFlexTable=function(){return\"sfdc/charts/flexTable.js\"===this.scriptPath};return f});$A.componentService.addLibraryInclude(\"js://reports.services.TableChartConfigService\",[],function(){function a(){}a.getConfigScript=function(){return{path:function(){return\"sfdc/charts/table.js\"},metadata:function(){return{name:{section:\"TableService\",id:\"tableLongName\",fallback:\"Table\"},shortname:{section:\"TableService\",id:\"tableShortName\",fallback:\"Table\"},config:[{type:\"DIMENSION\",label:{section:\"TableService\",id:\"columns\",fallback:\"Columns\"},min:1,max:1,property:\"dimension\"},{type:\"MEASURE\",min:1,\nmax:1,property:\"measure\"},{type:\"ENUM\",property:\"numberUnits\",label:{section:\"EclairConfig\",id:\"displayUnits\",fallback:\"Display Units\"},min:1,max:1,options:[{value:\"auto\",label:{section:\"EclairConfig\",id:\"unitsShortenNumber\",fallback:\"Shortened Number\"}},{value:\"whole\",label:{section:\"EclairConfig\",id:\"unitsWholeNumber\",fallback:\"Whole Number\"}},{value:\"hundreds\",label:{section:\"EclairConfig\",id:\"unitsHundreds\",fallback:\"Hundreds\"}},{value:\"thousands\",label:{section:\"EclairConfig\",id:\"unitsThousands\",\nfallback:\"Thousands\"}},{value:\"millions\",label:{section:\"EclairConfig\",id:\"unitsMillions\",fallback:\"Millions\"}},{value:\"billions\",label:{section:\"EclairConfig\",id:\"unitsBillions\",fallback:\"Billions\"}},{value:\"trillions\",label:{section:\"EclairConfig\",id:\"unitsTrillions\",fallback:\"Trillions\"}}]},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"showChatterPhotos\",fallback:\"Show Chatter Photos\"},min:1,max:1,property:\"showChatterPhotos\"},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"addConditionalHighlighting\",\nfallback:\"Add Conditional Highlighting\"},min:1,max:1,property:\"hasConditionalHighlighting\"},{type:\"RANGE\",label:{section:\"EclairConfig\",id:\"segmentRanges\",fallback:\"Segment Ranges\"},colorable:!0,labelable:!0,extremas:!1,min:3,max:3,property:\"ranges\"},{type:\"ENUM\",property:\"decimalPlaces\",label:{section:\"EclairConfig\",id:\"decimalPlaces\",fallback:\"Decimal Places\"},min:1,max:1,options:[{value:\"-1\",label:{section:\"EclairConfig\",id:\"automatic\",fallback:\"Automatic\"}},{value:\"0\",label:{section:\"EclairConfig\",\nid:\"decimalPlacesZero\",fallback:\"0\"}},{value:\"1\",label:{section:\"EclairConfig\",id:\"decimalPlacesOne\",fallback:\"1\"}},{value:\"2\",label:{section:\"EclairConfig\",id:\"decimalPlacesTwo\",fallback:\"2\"}},{value:\"3\",label:{section:\"EclairConfig\",id:\"decimalPlacesThree\",fallback:\"3\"}},{value:\"4\",label:{section:\"EclairConfig\",id:\"decimalPlacesFour\",fallback:\"4\"}},{value:\"5\",label:{section:\"EclairConfig\",id:\"decimalPlacesFive\",fallback:\"5\"}}]}]}}}};return a});$A.componentService.addLibraryInclude(\"js://reports.services.PicklistColorService\",[\"js://reports.services.ReportResultTransformService\"],function(e){function f(a){var b={};for(key in a)b[e.stringifyGroupValueObject(key)]=a[key];return b}return{addValueColors:function(a,b,c){var d={};for(key in b)c?d[key]=\"#\"+b[key].color:d[b[key].label]=\"#\"+b[key].color;a.valueColors=d},setPicklistColors:function(a,b,c,d){if(a&&0<Object.keys(a).length){for(dim in a)b.push({id:dim,colorMap:d?f(a[dim]):a[dim]});b.hasPicklistColors=\n!0;b.stringifyColorMapKeys=d;c&&delete c.groupingColorPalette}},cleanseGroupingColorPalette:function(a,b){if(!$A.util.isEmpty(b)){for(var c=!1,d=0;d<a.length;d++)if(a[d].id===b.groupingColorPalette){c=!0;break}c||(b.groupingColorPalette=a[0].id)}},isCorrectPalette:function(a,b){var c=a.indexOf(e.LABEL_SUFFIX);0>c&&(c=a.indexOf(e.VALUE_SUFFIX));return(0<c&&a.substr(0,c))===b.id}}});$A.componentService.addLibraryInclude(\"js://reports.services.ColorService\",[],function(){function l(a){return d[a]?d[a].sfxColor:a}function h(a){null==a&&(a=\"000000\");var b=3;6<=a.length&&(b=6);for(a=a.slice(Math.max(a.length-b,0));a.length<b;)a=\"0\"+a;3===b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return a}function e(a){var b=h(a),c=parseInt(b.slice(0,2),16)/255;a=parseInt(b.slice(2,4),16)/255;b=parseInt(b.slice(4,6),16)/255;c=f(c);a=f(a);b=f(b);return 0.2126*c+0.7152*a+0.0722*b}function f(a){return 0.03928>=\na?a/12.92:Math.pow((a+0.055)/1.055,2.4)}var d={c25454:{sfxColor:\"C23934\",textColor:\"FFF\"},c28b54:{sfxColor:\"E69F00\",textColor:\"16325C\"},c2c254:{sfxColor:\"E2CE7D\",textColor:\"16325C\"},\"8bc254\":{sfxColor:\"95C561\",textColor:\"16325C\"},\"54c254\":{sfxColor:\"00716B\",textColor:\"FFF\"},c2548b:{sfxColor:\"DEA7C5\",textColor:\"16325C\"},\"9c7954\":{sfxColor:\"FFB75D\",textColor:\"16325C\"},\"8b8b54\":{sfxColor:\"C3B168\",textColor:\"16325C\"},\"799c54\":{sfxColor:\"95C561\",textColor:\"16325C\"},\"549c79\":{sfxColor:\"62AE89\",textColor:\"16325C\"},\nc254c2:{sfxColor:\"A243D2\",textColor:\"FFF\"},\"9c5479\":{sfxColor:\"E2B1FA\",textColor:\"16325C\"},\"8b548b\":{sfxColor:\"7B399C\",textColor:\"FFF\"},\"54c28b\":{sfxColor:\"7CD59D\",textColor:\"16325C\"},\"548b8b\":{sfxColor:\"2C6E8B\",textColor:\"FFF\"},\"8b54c2\":{sfxColor:\"351C75\",textColor:\"FFF\"},\"79549c\":{sfxColor:\"815B94\",textColor:\"FFF\"},\"5454c2\":{sfxColor:\"6555F5\",textColor:\"FFF\"},\"548bc2\":{sfxColor:\"ABDCF4\",textColor:\"16325C\"},\"54799c\":{sfxColor:\"54698D\",textColor:\"FFF\"},\"54c2c2\":{sfxColor:\"76DED9\",textColor:\"16325C\"},\naaaaaa:{sfxColor:\"C9CED8\",textColor:\"16325C\"},666666:{sfxColor:\"98A1AE\",textColor:\"16325C\"},\"000000\":{sfxColor:\"16325C\",textColor:\"FFF\"},ffffff:{sfxColor:\"FFF\",textColor:\"16325C\"},c23934:{sfxColor:\"c23934\",textColor:\"FFF\"},ffb75d:{sfxColor:\"ffb75d\",textColor:\"FFF\"},\"00716b\":{sfxColor:\"00716b\",textColor:\"FFF\"}},n=7*(e(\"16325C\")+0.05),p=(Math.sqrt(21)-1)/20;return{alohaToSfxColorConverter:l,sanitizeColor:h,getTextColorFor:function(a){a=e(a);return a>=n?\"16325C\":0.1>=a?\"FFF\":a>p?\"000\":\"FFF\"},alohaToSfxTextColorConverter:function(a){return d[a]?\nd[a].textColor:\"16325C\"},picklistColorToSfxColorConverter:function(a){if(!a)return a;var b={},c;for(c in a){var d=b,f=c,g;if(g=a[c]){var e={},m=void 0,k=void 0;for(k in g)m=h(g[k]).color,e[k]={color:l(m)};g=e}d[f]=g}return b}}});$A.componentService.addLibraryInclude(\"js://reports.services.FlexibleTableChartConfigService\",[],function(){function a(){}a.getConfigScript=function(){return{path:function(){return\"sfdc/charts/flexTable.js\"},metadata:function(){return{name:{section:\"FlexTableService\",id:\"flexTableLongName\",fallback:\"Lightning Table\"},shortname:{section:\"FlexTableService\",id:\"flexTableShortName\",fallback:\"Lightning Table\"},config:[{type:\"COLUMNLIST\",label:{section:\"FlexTableService\",id:\"columns\",fallback:\"Columns\"},\nmin:1,max:10,property:\"columns\"},{type:\"SORT\",label:{section:\"LightningDashboardComponentEditor\",id:\"sortBy\",fallback:\"Sort by\"},property:\"__primarySort__\"},{type:\"SORT\",label:{section:\"LightningDashboardComponentEditor\",id:\"thenSortBy\",fallback:\"Then sort by\"},property:\"__secondarySort__\"},{type:\"ENUM\",property:\"numberUnits\",label:{section:\"EclairConfig\",id:\"displayUnits\",fallback:\"Display Units\"},min:1,max:1,options:[{value:\"auto\",label:{section:\"EclairConfig\",id:\"unitsShortenNumber\",fallback:\"Shortened Number\"}},\n{value:\"whole\",label:{section:\"EclairConfig\",id:\"unitsWholeNumber\",fallback:\"Whole Number\"}},{value:\"hundreds\",label:{section:\"EclairConfig\",id:\"unitsHundreds\",fallback:\"Hundreds\"}},{value:\"thousands\",label:{section:\"EclairConfig\",id:\"unitsThousands\",fallback:\"Thousands\"}},{value:\"millions\",label:{section:\"EclairConfig\",id:\"unitsMillions\",fallback:\"Millions\"}},{value:\"billions\",label:{section:\"EclairConfig\",id:\"unitsBillions\",fallback:\"Billions\"}},{value:\"trillions\",label:{section:\"EclairConfig\",\nid:\"unitsTrillions\",fallback:\"Trillions\"}}]},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"showChatterPhotos\",fallback:\"Show Chatter Photos\"},min:1,max:1,property:\"showChatterPhotos\"},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"showTotal\",fallback:\"Show Total\"},min:1,max:1,property:\"showTotal\"},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"showSubTotal\",fallback:\"Show Subtotals\"},min:1,max:1,property:\"showSubTotal\"},{type:\"BOOLEAN\",label:{section:\"EclairConfig\",id:\"addConditionalHighlighting\",\nfallback:\"Add Conditional Highlighting\"},min:1,max:1,property:\"hasConditionalHighlighting\"},{type:\"COLUMN\",label:{section:\"EclairConfig\",id:\"hightlightedColumn\",fallback:\"Highlight Column\"},min:1,max:1,property:\"highlightColumn\"},{type:\"RANGE\",label:{section:\"EclairConfig\",id:\"segmentRanges\",fallback:\"Segment Ranges\"},colorable:!0,labelable:!0,extremas:!1,min:3,max:3,property:\"ranges\"},{type:\"ENUM\",property:\"decimalPlaces\",label:{section:\"EclairConfig\",id:\"decimalPlaces\",fallback:\"Decimal Places\"},\nmin:1,max:1,options:[{value:\"-1\",label:{section:\"EclairConfig\",id:\"automatic\",fallback:\"Automatic\"}},{value:\"0\",label:{section:\"EclairConfig\",id:\"decimalPlacesZero\",fallback:\"0\"}},{value:\"1\",label:{section:\"EclairConfig\",id:\"decimalPlacesOne\",fallback:\"1\"}},{value:\"2\",label:{section:\"EclairConfig\",id:\"decimalPlacesTwo\",fallback:\"2\"}},{value:\"3\",label:{section:\"EclairConfig\",id:\"decimalPlacesThree\",fallback:\"3\"}},{value:\"4\",label:{section:\"EclairConfig\",id:\"decimalPlacesFour\",fallback:\"4\"}},{value:\"5\",\nlabel:{section:\"EclairConfig\",id:\"decimalPlacesFive\",fallback:\"5\"}}]}]}}}};return a});}"}"createdN  aÓÙAwB"expiresN   ıAwB"valueEncodedF{"sizeI‡à"expiresN   ıAwB{