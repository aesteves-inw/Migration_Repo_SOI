ÿÿo"key"–00D3M0000008mnt0DB58000000L0EM0053M000000VBg6en_UScf496403-d8e3-4135-ae9d-f09be8cf1ba9BLM15114571800000000000000049.0:markup://lightning:inputRichText"itemo"value"×{"xs":"G","descriptor":"markup://lightning:inputRichText","st":{"descriptor":"css://lightning.inputRichText","co":".lightningInputRichText{position:relative}.lightningInputRichText .sans-serif{font-family:sans-serif}.lightningInputRichText .courier{font-family:courier}.lightningInputRichText .verdana{font-family:verdana}.lightningInputRichText .tahoma{font-family:tahoma}.lightningInputRichText .garamond{font-family:garamond}.lightningInputRichText .serif{font-family:serif}.lightningInputRichText .ql-editor{white-space:pre-wrap;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.lightningInputRichText .ql-container{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.lightningInputRichText .ql-editor.ql-blank:before{color:#54698d;content:attr(data-placeholder);pointer-events:none;position:absolute}.lightningInputRichText .ql-editor a{text-decoration:underline}.lightningInputRichText .overflow-menu{z-index:2}.lightningInputRichText .ql-clipboard{position:absolute!important;margin:-1px!important;border:0!important;padding:0!important;width:1px!important;height:1px!important;overflow:hidden!important;clip:rect(0 0 0 0)!important}.lightningInputRichText .ql-editor p,.lightningInputRichText .ql-editor ol,.lightningInputRichText .ql-editor ul,.lightningInputRichText .ql-editor pre,.lightningInputRichText .ql-editor blockquote,.lightningInputRichText .ql-editor h1,.lightningInputRichText .ql-editor h2,.lightningInputRichText .ql-editor h3,.lightningInputRichText .ql-editor h4,.lightningInputRichText .ql-editor h5,.lightningInputRichText .ql-editor h6{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol,.lightningInputRichText .ql-editor ul{margin:0;padding:0;padding-left:1.5em}.lightningInputRichText .ql-editor ol>li,.lightningInputRichText .ql-editor ul>li{list-style-type:none}.lightningInputRichText .ql-editor ul>li:before{content:'\\2022';font-size:1.4em;vertical-align:middle;display:inline-block;line-height:normal}.lightningInputRichText .ql-editor ul[data-checked=true],.lightningInputRichText .ql-editor ul[data-checked=false]{pointer-events:none}.lightningInputRichText .ql-editor ul[data-checked=true]>li:before,.lightningInputRichText .ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.lightningInputRichText .ql-editor ul[data-checked=true]>li:before{content:'\\2611'}.lightningInputRichText .ql-editor ul[data-checked=false]>li:before{content:'\\2610'}.lightningInputRichText .ql-editor li:before{display:inline-block;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.lightningInputRichText .ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em}.lightningInputRichText .ql-editor ol li,.lightningInputRichText .ql-editor ul li{padding-left:1.5em}.lightningInputRichText .ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-num}.lightningInputRichText .ql-editor ol li:before{content:counter(list-num, decimal) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-1{counter-increment:list-1}.lightningInputRichText .ql-editor ol li.ql-indent-1:before{content:counter(list-1, lower-alpha) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-2{counter-increment:list-2}.lightningInputRichText .ql-editor ol li.ql-indent-2:before{content:counter(list-2, lower-roman) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-3{counter-increment:list-3}.lightningInputRichText .ql-editor ol li.ql-indent-3:before{content:counter(list-3, decimal) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-4{counter-increment:list-4}.lightningInputRichText .ql-editor ol li.ql-indent-4:before{content:counter(list-4, lower-alpha) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-5{counter-increment:list-5}.lightningInputRichText .ql-editor ol li.ql-indent-5:before{content:counter(list-5, lower-roman) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-6{counter-increment:list-6}.lightningInputRichText .ql-editor ol li.ql-indent-6:before{content:counter(list-6, decimal) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-7{counter-increment:list-7}.lightningInputRichText .ql-editor ol li.ql-indent-7:before{content:counter(list-7, lower-alpha) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.lightningInputRichText .ql-editor ol li.ql-indent-8{counter-increment:list-8}.lightningInputRichText .ql-editor ol li.ql-indent-8:before{content:counter(list-8, lower-roman) '. '}.lightningInputRichText .ql-editor ol li.ql-indent-8{counter-reset:list-9}.lightningInputRichText .ql-editor ol li.ql-indent-9{counter-increment:list-9}.lightningInputRichText .ql-editor ol li.ql-indent-9:before{content:counter(list-9, decimal) '. '}.lightningInputRichText .ql-editor ul li.ql-indent-1:before{content:'\\25e6'}.lightningInputRichText .ql-editor ul li.ql-indent-2:before,.lightningInputRichText .ql-editor ul li.ql-indent-3:before,.lightningInputRichText .ql-editor ul li.ql-indent-4:before,.lightningInputRichText .ql-editor ul li.ql-indent-5:before,.lightningInputRichText .ql-editor ul li.ql-indent-6:before,.lightningInputRichText .ql-editor ul li.ql-indent-7:before,.lightningInputRichText .ql-editor ul li.ql-indent-8:before{content:'\\25aa'}.lightningInputRichText .ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.lightningInputRichText .ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.lightningInputRichText .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.lightningInputRichText .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.lightningInputRichText .ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.lightningInputRichText .ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.lightningInputRichText .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.lightningInputRichText .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.lightningInputRichText .ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.lightningInputRichText .ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.lightningInputRichText .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.lightningInputRichText .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.lightningInputRichText .ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.lightningInputRichText .ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.lightningInputRichText .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.lightningInputRichText .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.lightningInputRichText .ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.lightningInputRichText .ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.lightningInputRichText .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.lightningInputRichText .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.lightningInputRichText .ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.lightningInputRichText .ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.lightningInputRichText .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.lightningInputRichText .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.lightningInputRichText .ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.lightningInputRichText .ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.lightningInputRichText .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.lightningInputRichText .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.lightningInputRichText .ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.lightningInputRichText .ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.lightningInputRichText .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.lightningInputRichText .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.lightningInputRichText .ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.lightningInputRichText .ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.lightningInputRichText .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.lightningInputRichText .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}","cl":"lightningInputRichText"},"ad":[["body","aura://Aura.Component[]","G",false,[]],["accesskey","aura://String","G",false],["tabindex","aura://Integer","G",false],["onfocus","aura://Aura.Action","G",false,null],["onblur","aura://Aura.Action","G",false,null],["class","aura://String","G",false],["title","aura://String","G",false],["ariaLabel","aura://String","G",false],["ariaLabelledby","aura://String","G",false],["ariaDescribedby","aura://String","G",false],["label","aura://String","G",false],["labelVisible","aura://Boolean","G",false,false],["value","aura://String","G",false],["placeholder","aura://String","G",false],["disabledCategories","aura://List","G",false,[]],["disabled","aura://Boolean","G",false,false],["valid","aura://Boolean","G",false,true],["formats","aura://List","G",false,[]],["variant","aura://String","G",false],["messageWhenBadInput","aura://String","G",false],["shareWithEntityId","aura://String","G",false],["privateTextColor","aura://String","p",false],["privateButtons","aura://Aura.Component[]","p",false,[]],["privateQuillInstance","aura://Object","p",false,null],["privateColorpickerVisible","aura://Boolean","p",false,false],["privateButtonGroups","aura://Aura.Component[]","p",false,[]],["privateSizeMenuVisible","aura://Boolean","p",false,true],["privateFontMenuVisible","aura://Boolean","p",false,true],["privateFontMenusVisible","aura://Boolean","p",false,false],["privateFontList","aura://Object[]","p",false,[]],["privateSizeList","aura://Object[]","p",false,[]],["privateSelectedFont","aura://String","p",false],["privateSelectedSize","aura://String","p",false],["privateComputedClass","aura://String","p",false,"slds-rich-text-editor slds-grid slds-grid_vertical slds-nowrap"],["privateComputedLabel","aura://String","p",false],["privateIsMobile","aura://Boolean","p",false,false]],"med":[{"name":"lightning:focus","xs":"G"},{"name":"lightning:insertTextAtCursor","xs":"I","action":"{!c.insertTextAtCursor}","attributes":[["text","aura://String","I",false]]},{"name":"lightning:setRangeText","xs":"I","action":"{!c.setRangeText}","attributes":[["replacement","aura://String","I",false],["start","aura://Integer","I",false],["end","aura://Integer","I",false],["selectMode","aura://String","I",false]]},{"name":"lightning:setFormat","xs":"G","action":"{!c.setFormat}","attributes":[["format","aura://Object","I",false,null]]},{"name":"lightning:getFormat","xs":"G","action":"{!c.getFormat}"}],"i":["markup://lightning:focusable","markup://lightning:common"],"hd":[{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.init"},"v":{"exprType":"PROPERTY","byValue":false,"path":"this"},"n":"init"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.handleBodyChange"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.body"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.handleStateChange"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.valid"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.handleStateChange"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.disabled"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.handleValueChange"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.value"},"n":"change"},{"x":{"exprType":"PROPERTY","byValue":false,"path":"c.handleAriaDescribedbyChange"},"v":{"exprType":"PROPERTY","byValue":false,"path":"v.ariaDescribedby"},"n":"change"}],"fa":[{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-form-element"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return (cmp.get(\"v.labelVisible\")||cmp.get(\"v.label\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.labelVisible"},{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.label"}],"byValue":false}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.join(\" \",\"slds-form-element__label\",(cmp.get(\"v.labelVisible\")?\"\":\"slds-assistive-text\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.labelVisible"}],"byValue":false},"id":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.join(\"-\",\"label\",cmp.get(\"globalId\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"globalId"}],"byValue":false}}},"tag":{"descriptor":"tag","value":"span"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:expression"},"attributes":{"values":{"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateComputedLabel"}}}}}]}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateComputedClass"},"title":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.title"}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.eq(cmp.get(\"v.variant\"),\"bottom-toolbar\");}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.variant"}],"byValue":false}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"localId":"editor","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__textarea slds-grid"}},"tag":{"descriptor":"tag","value":"div"}}}},{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return !(cmp.get(\"v.valid\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.valid"}],"byValue":false}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-form-element__help slds-p-around_small","id":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.join(\"-\",\"errormessage\",cmp.get(\"globalId\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"globalId"}],"byValue":false}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:expression"},"attributes":{"values":{"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.messageWhenBadInput"}}}}}]}}}}]}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:html"},"localId":"toolbar","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.join(\" \",\"slds-rich-text-editor__toolbar slds-shrink-none\",(fn.eq(cmp.get(\"v.variant\"),\"bottom-toolbar\")?\"slds-rich-text-editor__toolbar_bottom\":\"\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.variant"}],"byValue":false},"onkeydown":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleKeyDown"},"role":"toolbar","aria-label":{"exprType":"FUNCTION","code":"function(cmp,fn){return (cmp.get(\"v.disabled\")?\"disabled\":\"\");}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}],"byValue":false}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateFontMenusVisible"}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-grid slds-wrap","role":"group","aria-label":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"$Label.LightningRichTextEditor.formatFont"}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateIsMobile"}},"else":{"descriptor":"else","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__select"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://lightning:combobox","type":"module"},"attributes":{"values":{"onchange":{"descriptor":"onchange","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleFontSelect"}},"label":{"descriptor":"label","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"$Label.LightningRichTextEditor.font"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSelectedFont"}},"options":{"descriptor":"options","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateFontList"}},"name":{"descriptor":"name","value":"font"},"variant":{"descriptor":"variant","value":"label-hidden"},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}},"dropdownAlignment":{"descriptor":"dropdownAlignment","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return (fn.eq(cmp.get(\"v.variant\"),\"bottom-toolbar\")?\"bottom-left\":\"left\");}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.variant"}],"byValue":false}}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__select slds-size_xx-small"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://lightning:combobox","type":"module"},"attributes":{"values":{"onchange":{"descriptor":"onchange","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleSizeSelect"}},"label":{"descriptor":"label","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"$Label.LightningRichTextEditor.fontSize"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSelectedSize"}},"options":{"descriptor":"options","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSizeList"}},"name":{"descriptor":"name","value":"font-size"},"variant":{"descriptor":"variant","value":"label-hidden"},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}},"dropdownAlignment":{"descriptor":"dropdownAlignment","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return (fn.eq(cmp.get(\"v.variant\"),\"bottom-toolbar\")?\"bottom-left\":\"left\");}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.variant"}],"byValue":false}}}}}]}}}}]},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__select slds-size_x-small"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://lightning:primitiveSelect","type":"module"},"attributes":{"values":{"onchange":{"descriptor":"onchange","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleFontSelect"}},"label":{"descriptor":"label","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"$Label.LightningRichTextEditor.font"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSelectedFont"}},"options":{"descriptor":"options","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateFontList"}},"name":{"descriptor":"name","value":"font"},"variant":{"descriptor":"variant","value":"label-hidden"},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__select slds-size_xx-small"}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://lightning:primitiveSelect","type":"module"},"attributes":{"values":{"onchange":{"descriptor":"onchange","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleSizeSelect"}},"label":{"descriptor":"label","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"$Label.LightningRichTextEditor.fontSize"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSelectedSize"}},"options":{"descriptor":"options","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateSizeList"}},"name":{"descriptor":"name","value":"font-size"},"variant":{"descriptor":"variant","value":"label-hidden"},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}}}}}]}}}}]}}}}]}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateColorpickerVisible"}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://lightning:primitiveColorpickerButton","type":"module"},"attributes":{"values":{"onchange":{"descriptor":"onchange","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"c.handleColorUpdate"}},"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateTextColor"}},"disabled":{"descriptor":"disabled","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.disabled"}}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:iteration"},"attributes":{"values":{"var":{"descriptor":"var","value":"buttonGroup"},"items":{"descriptor":"items","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.privateButtonGroups"}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-button-group-list","aria-label":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"buttonGroup.label"}}},"tag":{"descriptor":"tag","value":"ul"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:expression"},"attributes":{"values":{"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"buttonGroup.buttons"}}}}}]}}}}]}}}}]}}}},{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return !(fn.eq(cmp.get(\"v.variant\"),\"bottom-toolbar\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.variant"}],"byValue":false}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"localId":"editor","attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-rich-text-editor__textarea slds-grid"}},"tag":{"descriptor":"tag","value":"div"}}}},{"componentDef":{"descriptor":"markup://aura:if"},"attributes":{"values":{"isTrue":{"descriptor":"isTrue","value":{"exprType":"FUNCTION","code":"function(cmp,fn){return !(cmp.get(\"v.valid\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.valid"}],"byValue":false}},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:html"},"attributes":{"values":{"HTMLAttributes":{"descriptor":"HTMLAttributes","value":{"class":"slds-form-element__help slds-p-around_small","id":{"exprType":"FUNCTION","code":"function(cmp,fn){return fn.join(\"-\",\"errormessage\",cmp.get(\"globalId\"));}","args":[{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"globalId"}],"byValue":false}}},"tag":{"descriptor":"tag","value":"div"},"body":{"descriptor":"body","value":[{"componentDef":{"descriptor":"markup://aura:expression"},"attributes":{"values":{"value":{"descriptor":"value","value":{"exprType":"PROPERTY","byValue":false,"target":"lightning:inputRichText","path":"v.messageWhenBadInput"}}}}}]}}}}]}}}}]}}}}]}}}}]}}}}]}],"mv":0,"cc":"$A.componentService.addComponentClass(\"markup://lightning:inputRichText\",function() {\nreturn {\n  \"meta\":{\n    \"name\":\"lightning$inputRichText\",\n    \"extends\":\"markup://aura:component\",\n    \"imports\":{\n      \"lib\":\"markup://lightning:quillLib\",\n      \"classLib\":\"markup://lightning:classnamesLibrary\",\n      \"menuKeyboardLibrary\":\"markup://lightning:menuKeyboardLibrary\",\n      \"auraLibrary\":\"markup://lightning:auraLibrary\"\n    }\n  },\n  \"controller\":{\n    \"init\":function(cmp, evt, helper) {\n        helper.initSizeList(cmp);\n        helper.initFontList(cmp);\n        helper.initColorpicker(cmp);\n        cmp.set('v.privateIsMobile', $A.get('$Browser').formFactor !== 'DESKTOP');\n\n        if (cmp.get('v.formats').indexOf('video') > -1) {\n            helper.lib.inputRichTextLibrary.ALLOWED_TAGS.push('iframe');\n        }\n    },\n    \"handleValueChange\":function(cmp, evt, helper) {\n        var val = cmp.get('v.value');\n        var quill = cmp.get('v.privateQuillInstance');\n        \n        \n        \n        \n        \n        \n\n        if(quill && val !== cmp._lastVal) {\n            helper.setContent(cmp.get('v.privateQuillInstance'), val);\n        }\n\n    },\n    \"handleBodyChange\":function(cmp, evt, helper) {\n        var quill = cmp.get('v.privateQuillInstance');\n        helper.setupButtons(cmp);\n\n        \n        \n        \n        \n        if(quill) {\n            helper.initButtons(cmp, quill);\n        }\n\n    },\n    \"handleColorUpdate\":function(cmp, evt, helper) {\n        var newTextColor = evt.getParam('color');\n        helper.setTextColor(cmp, newTextColor);\n    },\n    \"toggleFontMenu\":function(cmp) {\n        cmp.set('v.privateFontMenuVisible', !cmp.get('v.privateFontMenuVisible'));\n    },\n    \"toggleSizeMenu\":function(cmp) {\n        cmp.set('v.privateSizeMenuVisible', !cmp.get('v.privateSizeMenuVisible'));\n    },\n    \"toggleOverflowMenu\":function(cmp) {\n        cmp.set('v.privateOverflowMenuVisible', !cmp.get('v.privateOverflowMenuVisible'));\n    },\n    \"handleKeyDown\":function(cmp, evt, helper) {\n        helper.handleKeyDown(cmp, evt);\n    },\n    \"handleOverflowKeyDown\":function(cmp, evt, helper) {\n        helper.handleOverflowKeyDown(cmp, evt);\n    },\n    \"handleFontSelect\":function(cmp, evt, helper) {\n        var newFont = evt.getParam(\"value\");\n        helper.selectFont(cmp, newFont);\n    },\n    \"handleSizeSelect\":function(cmp, evt, helper) {\n        var newSize = evt.getParam(\"value\");\n        helper.selectSize(cmp, newSize);\n    },\n    \"handleStateChange\":function(cmp, evt, helper) {\n        helper.updateEditorState(cmp);\n        helper.computeClassNames(cmp);\n        helper.updateButtonStates(cmp);\n    },\n    \"handleAriaDescribedbyChange\":function(cmp, evt, helper) {\n        var quill = cmp.get('v.privateQuillInstance');\n        if (quill) {\n            var editorElement = quill.root;\n            var valid = cmp.get('v.valid');\n            helper.updateAriaDescribedby(cmp, valid, editorElement);\n        }\n    },\n    \"focus\":function(cmp, evt, helper) {\n        helper.callQuillMethod(cmp, \"focus\");\n    },\n    \"insertTextAtCursor\":function(cmp, evt, helper) {\n        var args = evt.getParam(\"arguments\");\n        if (args.text && args.text.length > 0) {\n            helper.insertTextAtCursor(cmp, args.text);\n        }\n    },\n    \"setRangeText\":function(cmp, evt, helper) {\n        var args = evt.getParam(\"arguments\");\n        var quill = cmp.get('v.privateQuillInstance');\n        helper.lib.inputRichTextLibrary.setRangeText(quill, args.replacement, args.start, args.end, args.selectMode);\n    },\n    \"setFormat\":function(cmp, evt, helper) {\n        var args = evt.getParam('arguments');\n        helper.setFormat(cmp, args.format);\n    },\n    \"getFormat\":function(cmp, evt, helper) {\n        return helper.getFormat(cmp);\n    }\n  },\n  \"helper\":{\n    \"EMPTY_CHARACTER\":\"\\u200b\",\n    \"FONT_SIZE_MAP\":{\n      \"1\":9,\n      \"2\":11,\n      \"3\":14,\n      \"4\":16,\n      \"5\":22,\n      \"6\":28,\n      \"7\":48\n    },\n    \"SF_DEFAULT_FORMATS\":[\n      \"table\",\n      \"image\",\n      \"link\",\n      \"header\"\n    ],\n    \"ALLOWED_IMAGE_FORMATS\":[\n      \"image/png\",\n      \"image/jpg\",\n      \"image/jpeg\",\n      \"image/gif\"\n    ],\n    \"RIGHT_PAD\":60,\n    \"TOOLBAR_BUTTON_SELECTOR\":\".slds-rich-text-editor__toolbar > ul li .slds-button, .overflow-menu > ul > li .slds-button\",\n    \"OVERFLOW_BUTTON_SELECTOR\":\".overflow-menu div ul li .slds-button\",\n    \"DEFAULT_FONT_NAME_VALUE\":\"default\",\n    \"DEFAULT_FONT_SIZE_VALUE\":\"12px\",\n    \"KEYS\":{\n      \"BACKSPACE\":8,\n      \"DELETE\":46\n    },\n    \"_getNormalizedFontSize\":function(fontSize) {\n        var size = fontSize || 3;\n        var relativeSize = /^[+-]\\d/.test(size) ? Number(size) + 3 : Number(size);\n        var normalizedSize = (relativeSize > 7) ? 7 : relativeSize;\n        normalizedSize = (relativeSize < 1) ? 1 : normalizedSize;\n        return normalizedSize;\n    },\n    \"initFontList\":function(cmp) {\n        cmp.set('v.privateFontList', this.lib.inputRichTextLibrary.FONT_LIST);\n        cmp.set('v.privateSelectedFont', this.DEFAULT_FONT_NAME_VALUE);\n    },\n    \"initColorpicker\":function(cmp) {\n        var privateColorpickerVisible = cmp.get('v.formats').indexOf('color') > -1;\n        cmp.set('v.privateColorpickerVisible', privateColorpickerVisible);\n    },\n    \"initSizeList\":function(cmp) {\n        var sizeList = this.lib.inputRichTextLibrary.ALLOWED_SIZES.map(function (size) {\n            return {\n                label: size + '',\n                value: size + 'px'\n            };\n        });\n\n        cmp.set('v.privateSizeList', sizeList);\n        cmp.set('v.privateSelectedSize', this.DEFAULT_FONT_SIZE_VALUE);\n    },\n    \"getErrorMessageId\":function(cmp) {\n        \n        return 'errormessage-' + cmp.getGlobalId();\n    },\n    \"initQuill\":function(component) {\n        \n        var Quill = this.lib.Quill;\n        var self = this;\n        var container = component.find('editor').getElement();\n        var val = component.get('v.value');\n        var placeholder = component.get('v.placeholder');\n\n\n        \n        \n        \n        var bindings = {\n            \n            \n            tab: {\n                key: 9,\n                shiftKey: false,\n                handler: function () {\n                    \n                    \n                    \n                    return true;\n                }\n            },\n\n            \n            lightningOudent: {\n                key: 219, \n                shortKey: true,\n                handler: function () {\n                    this.quill.format('indent', '-1');\n                }\n            },\n\n            lightningIndent: {\n                key: 221, \n                shortKey: true,\n                handler: function () {\n                    this.quill.format('indent', '+1');\n                }\n            }\n        };\n        var formats = component._formats;\n\n        \n        var Strike = Quill.import('formats/strike');\n        Strike.tagName = 'STRIKE'; \n        Quill.register(Strike, true);\n\n        \n        var quill = new Quill(container,\n            {\n                modules: {\n                    keyboard: {\n                        bindings: bindings\n                    },\n                    history: {\n                        \n                        \n                        userOnly: true\n                    }\n                },\n\n                formats: formats,\n                placeholder: placeholder\n            });\n\n        \n        quill.clipboard.addMatcher('font', function (node, delta) {\n            var size = node.getAttribute('size');\n\n            \n            if (size) {\n                size = self.FONT_SIZE_MAP[self._getNormalizedFontSize(size)] + 'px';\n            }\n            \n            \n            var nodeFormats = {\n                font: node.getAttribute('face'), \n                size: size,\n                color: node.getAttribute('color') \n            };\n            return delta.compose(new Quill.Delta().retain(delta.length(), nodeFormats));\n        });\n\n        \n        quill.clipboard.addMatcher('s', function (node, delta) {\n            return delta.compose(new Quill.Delta().retain(delta.length(), { strike: true }));\n        });\n\n        \n        quill.clipboard.addMatcher('tt', function (node, delta) {\n            return delta.compose(new Quill.Delta().retain(delta.length(), { code: true }));\n        });\n\n        \n        quill.clipboard.addMatcher('acronym', function (node, delta) {\n            var title = node.getAttribute('title');\n            return delta.compose(new Quill.Delta().retain(delta.length(), { abbr: title ? title : true }));\n        });\n\n        quill.clipboard.addMatcher('span[style*=text-decoration]', function (node, delta) {\n            var computedStyle = getComputedStyle(node);\n            var underline = computedStyle.textDecoration.match(/underline/);\n            var strike = computedStyle.textDecoration.match(/line\\-through/);\n            return delta.compose(new Quill.Delta().retain(delta.length(), {\n                underline: underline ? true : false,\n                strike: strike ? true : false\n            }));\n        });\n\n        \n        \n        quill.clipboard.addMatcher('table', function (node) {\n            if (component._formats.indexOf('table') === -1) {\n                \n                \n                return quill.clipboard.convert(node.innerHTML);\n            } else {\n                var tableBlot = Quill.import('formats/table');\n                return new Quill.Delta().insert({ table: tableBlot.value(node) });\n            }\n        });\n\n        var editorElement = quill.root;\n        component.set('v.privateQuillInstance', quill);\n        this.updateEditorState(component);\n\n        if (val) {\n            \n            this.setContent(quill, val, 'silent');\n            component._lastVal = val;\n        }\n\n        quill.on('text-change', $A.getCallback(function () {\n            if (component && component.isValid()) {\n                self.handleChange(component, quill);\n            }\n\n        }));\n\n        quill.on('selection-change', $A.getCallback(function (range) {\n            var format = null;\n            if (component && component.isValid()) {\n                if(component._linkButton && !component.get('v.disabled')) {\n                    component._linkButton.set('v.disabled', false);\n                    component._linkButton = null;\n                }\n                if (range) { \n                    format = quill.getFormat(range);\n\n                    \n                    if ($A.get(\"$Locale.dir\") === \"rtl\" && !format.align) {\n                        quill.format(\"align\", \"right\");\n                    }\n\n                    \n                    \n                    \n                    \n                    \n                    \n                    \n                    if (!component.skipFontUpdateFromSelectionChange) {\n                        self.updateFontMenu(component, format);\n                    }\n                    if (!component.skipFontSizeUpdateFromSelectionChange) {\n                        self.updateSizeMenu(component, format);\n                    }\n                    component.skipFontUpdateFromSelectionChange = false;\n                    component.skipFontSizeUpdateFromSelectionChange = false;\n                }\n\n                \n                \n                \n                if (component._compositionDirty) {\n                    var text = quill.getText().replace(/\\n/, '');\n                    \n                    \n                    if (!quill.hasFocus() && text === self.EMPTY_CHARACTER) {\n                        quill.setText('');\n                    }\n                    component._compositionDirty = false;\n                }\n            }\n        }));\n\n        function handleIME(e) {\n            \n            if (e.keyCode && e.keyCode < 48) {\n                return;\n            }\n            component._compositionDirty = true;\n\n            \n            \n            var children = Array.prototype.slice.call(editorElement.querySelectorAll('p, li'));\n            children.forEach(function (child) {\n                if (child.textContent.length === 0  && child.getElementsByTagName('img').length === 0) {\n                    child.textContent = self.EMPTY_CHARACTER;\n                }\n            });\n        }\n\n        function handleEmptyEditor() {\n\n            \n            \n            \n            if (quill.editor.isBlank()) {\n                var child = editorElement.querySelector('p');\n                child.textContent = self.EMPTY_CHARACTER;\n                component._compositionDirty = true;\n            }\n\n            \n            var text = quill.getText().replace(/\\n/, '');\n            if (!quill.hasFocus() && text === self.EMPTY_CHARACTER) {\n                quill.setText('');\n            }\n        }\n\n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        function avoidUpdateDuringCompositionOnIE(blot) {\n            var isComposing = false;\n            var lastMutations = null;\n\n            function handleIMECompositionStart() {\n                lastMutations = null;\n                isComposing = true;\n            }\n\n            function handleIMECompositionEnd() {\n                if (lastMutations) {\n                    blot.updateOriginal(lastMutations);\n                }\n                isComposing = false;\n            }\n\n            blot.domNode.addEventListener('compositionstart', handleIMECompositionStart);\n            blot.domNode.addEventListener('compositionend', handleIMECompositionEnd);\n\n            \n            \n            blot.updateOriginal = blot.update;\n            blot.update = function (mutations) {\n                \n                \n                if (isComposing && typeof mutations === 'object') {\n                    lastMutations = mutations;\n                } else {\n                    blot.updateOriginal(mutations);\n                }\n            };\n        }\n\n        \n        \n        \n        \n        \n        \n        \n        \n        var isIE11 = $A.get('$Browser').isIE11;\n\n        if (isIE11) {\n            editorElement.addEventListener('keydown', handleEmptyEditor);\n            avoidUpdateDuringCompositionOnIE(quill.scroll);\n        } else {\n            editorElement.addEventListener('compositionstart', handleIME);\n        }\n\n        editorElement.addEventListener('blur', $A.getCallback(function (event) {\n            var action = component.get('v.onblur');\n            if (isIE11) {\n                handleEmptyEditor(event);\n            }\n            self.computeClassNames(component);\n            if (action) {\n                action.run(new self.auraLibrary.AuraEvent(component, {\n                    event: event\n                }));\n            }\n        }));\n\n        editorElement.addEventListener('focus', $A.getCallback(function (event) {\n            var action = component.get('v.onfocus');\n            if (isIE11) {\n                handleEmptyEditor(event);\n            }\n            self.computeClassNames(component);\n            if (action) {\n                action.run(new self.auraLibrary.AuraEvent(component, {\n                    event: event\n                }));\n            }\n        }));\n\n        \n        \n        var deleteKeys = [this.KEYS.BACKSPACE, this.KEYS.DELETE];\n        component.getElement().addEventListener('keydown', $A.getCallback(function (event) {\n            \n            \n            if (deleteKeys.indexOf(event.keyCode) !== -1 && event.target === quill.root) {\n                \n                \n                var curNode = document.getSelection().focusNode;\n                var table = self.getTopLevelEnclosingNode(quill, curNode, 'table');\n                if (table) {\n                    event.stopPropagation();\n                }\n            }\n        }), true);\n\n        \n        \n        editorElement.addEventListener('paste', $A.getCallback(function (event) {\n            var clipboardData = event.clipboardData;\n            if (clipboardData && clipboardData.files && clipboardData.files.length && clipboardData.types.indexOf('text/html') === -1) {\n                var pastedFile = clipboardData.files[0];\n                if (this.ALLOWED_IMAGE_FORMATS.indexOf(pastedFile.type) > -1) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.lib.inputRichTextLibrary.uploadAndInsertSelectedFile(quill, pastedFile, component.get('v.shareWithEntityId'));\n                }\n            }\n        }).bind(this));\n\n        \n        editorElement.classList.add('slds-rich-text-area__content');\n        editorElement.classList.add('slds-text-color_weak');\n        editorElement.classList.add('slds-grow');\n\n        \n        \n        \n        this.initButtons(component, quill);\n        this.computeClassNames(component);\n        this.computeLabel(component, editorElement);\n    },\n    \"setContent\":function(quill, val, source) {\n        var filtered = this.lib.inputRichTextLibrary.cleanInput(val);\n        \n        var delta = quill.clipboard.convert(filtered);\n        quill.setContents(delta, source);\n    },\n    \"callQuillMethod\":function(cmp, method, args) {\n        var Quill = this.lib.Quill;\n        var quill = cmp.get('v.privateQuillInstance');\n        if (quill && Quill) {\n            if (Array.isArray(args)) {\n                args.push(Quill.sources.USER);\n            }\n            return quill[method].apply(quill, args);\n        }\n        return false;\n    },\n    \"replaceState\":function(cmp, stateObj) {\n        cmp.set('v.state', stateObj);\n    },\n    \"selectFont\":function(cmp, newFont) {\n        cmp.skipFontUpdateFromSelectionChange = true;\n\n        var selectFont = newFont;\n        if (newFont === this.DEFAULT_FONT_NAME_VALUE) {\n            \n            selectFont = '';\n        }\n        var api = cmp.get('v.privateQuillInstance');\n        api.focus();\n        api.format('font', selectFont);\n    },\n    \"selectSize\":function(cmp, newSize) {\n        cmp.skipFontSizeUpdateFromSelectionChange = true;\n\n        var api = cmp.get('v.privateQuillInstance');\n        api.focus();\n        api.format('size', newSize);\n    },\n    \"setTextColor\":function(cmp, textColor) {\n        cmp.set('v.privateTextColor', textColor);\n        var quill = cmp.get('v.privateQuillInstance');\n        quill.format('color', textColor);\n    },\n    \"updateFontMenu\":function(cmp, format) {\n        var newFont = format && format.font ? format.font : this.DEFAULT_FONT_NAME_VALUE;\n        cmp.set('v.privateSelectedFont', newFont);\n    },\n    \"updateSizeMenu\":function(cmp, format) {\n        var newSize = format && format.size ? format.size : this.DEFAULT_FONT_SIZE_VALUE;\n        cmp.set('v.privateSelectedSize', newSize);\n    },\n    \"initButtons\":function(cmp, quill) {\n\n        var ALLOWED_ATTRS = this.lib.inputRichTextLibrary.ALLOWED_ATTRS;\n        var ALLOWED_TAGS = this.lib.inputRichTextLibrary.ALLOWED_TAGS;\n        quill.SF_ALLOWED_ATTRS = ALLOWED_ATTRS;\n        quill.SF_ALLOWED_TAGS = ALLOWED_TAGS;\n        var buttonGroups = cmp.get('v.privateButtonGroups');\n        var disabled = cmp.get('v.disabled');\n        var i, j; \n\n        \n        \n        \n        \n        \n        \n        \n        \n        cmp._initializedButtons = [];\n\n        for (i = 0; i < buttonGroups.length; i += 1) {\n            for (j = 0; j < buttonGroups[i].buttons.length; j += 1) {\n                if ($A.util.isComponent(buttonGroups[i].buttons[j]) \n                    && cmp._initializedButtons.indexOf(buttonGroups[i].buttons[j]) === -1\n                    && buttonGroups[i].buttons[j].isInstanceOf('lightning:inputRichTextButton')) {\n                        \n                        \n                        \n                        if(buttonGroups[i].buttons[j].isInstanceOf('force:quillButtonLink')) {\n                            cmp._linkButton = buttonGroups[i].buttons[j];\n                            cmp._linkButton.set('v.disabled', true);\n                        } else {\n                            buttonGroups[i].buttons[j].set('v.disabled', disabled);\n                        }\n                        if (buttonGroups[i].buttons[j].isInstanceOf('lightning:insertImageButton')) {\n                            buttonGroups[i].buttons[j].set('v.shareWithEntityId', cmp.get('v.shareWithEntityId'));\n                        }\n                        buttonGroups[i].buttons[j].initialize(quill);\n                        cmp._initializedButtons.push(buttonGroups[i].buttons[j]);\n                }\n            }\n        }\n\n    },\n    \"showOverflowMenu\":function(cmp) {\n        var body = cmp.getElement();\n        var menu = cmp.find('overflowMenu').getElement();\n        var diff = menu.getBoundingClientRect().left - body.getBoundingClientRect().left;\n\n        if (diff < 0) {\n            cmp.set('v.privateOverflowMenuStyle', 'position:absolute;top:36px;right:' + diff + 'px;');\n        }\n        cmp.set('v.privateOverflowMenuVisible', true);\n    },\n    \"selectButton\":function(group, index, click) {\n        var buttons = Array.prototype.slice.call(group);\n        buttons.forEach(function (button) {\n            button.setAttribute('tabindex', -1);\n        });\n\n        buttons[index].setAttribute('tabindex', 0);\n        requestAnimationFrame(function () {\n            buttons[index].focus();\n            if (click) {\n                buttons[index].click();\n            }\n        });\n    },\n    \"createDefaultButtons\":function(cmp) {\n        var defaults = [\n            [\"$Label.LightningRichTextButton.bold\", \"utility:bold\", \"ql-bold\", \"FORMAT_TEXT\"],\n            [\"$Label.LightningRichTextButton.italic\", \"utility:italic\", \"ql-italic\", \"FORMAT_TEXT\"],\n            [\"$Label.LightningRichTextButton.underline\", \"utility:underline\", \"ql-underline\", \"FORMAT_TEXT\"],\n            [\"$Label.LightningRichTextButton.strike\", \"utility:strikethrough\", \"ql-strike\", \"FORMAT_TEXT\"],\n            [\"$Label.LightningRichTextButton.bullet\", \"utility:richtextbulletedlist\", \"ql-list\", \"FORMAT_BODY\", \"bullet\"],\n            [\"$Label.LightningRichTextButton.number\", \"utility:richtextnumberedlist\", \"ql-list\", \"FORMAT_BODY\", \"ordered\"],\n            [\"$Label.LightningRichTextButton.indent\", \"utility:richtextindent\", \"ql-indent\", \"FORMAT_BODY\", \"+1\"],\n            [\"$Label.LightningRichTextButton.outdent\", \"utility:richtextoutdent\", \"ql-indent\", \"FORMAT_BODY\", \"-1\"],\n            [\"$Label.LightningRichTextButton.leftAlign\", \"utility:left_align_text\", \"ql-align\", \"ALIGN_TEXT\", \"\"],\n            [\"$Label.LightningRichTextButton.centerAlign\", \"utility:center_align_text\", \"ql-align\", \"ALIGN_TEXT\", \"center\"],\n            [\"$Label.LightningRichTextButton.rightAlign\", \"utility:right_align_text\", \"ql-align\", \"ALIGN_TEXT\", \"right\"],\n            [\"$Label.LightningRichTextButton.removeFormatting\", \"utility:remove_formatting\", \"ql-clean\", \"REMOVE_FORMATTING\"]\n        ];\n\n        \n        \n        \n        if ($A.get(\"$Locale.dir\") === \"rtl\") {\n            var temp = defaults[8];\n            temp[4] = \"left\";\n            defaults[8] = defaults[10];\n            defaults[10] = temp;\n        }\n\n        var buttons = [];\n        for (var i = 0; i < defaults.length; i += 1) {\n            \n\n            buttons.push($A.createComponentFromConfig(\n                {\n                    \"skipCreationPath\": true,\n                    \"descriptor\": \"markup://lightning:inputRichTextButtonSimple\", attributes: {\n                        alternativeText: $A.getReference(defaults[i][0]),\n                        iconName: defaults[i][1],\n                        class: defaults[i][2],\n                        category: defaults[i][3],\n                        value: defaults[i][4],\n                        disabled: cmp.getReference(\"v.disabled\")\n                    }\n                }));\n            \n\n        }\n        cmp.set(\"v.privateButtons\", buttons);\n    },\n    \"_filterButtons\":function(cmp, buttons, rules) {\n        if (!cmp._buttonsMemo) {\n            cmp._buttonsMemo = {};\n        }\n\n        return buttons.filter(function (button) {\n            var id = button.getGlobalId();\n            var category, className, isValid = false, match;\n\n            if (cmp._buttonsMemo[id]) {\n                category = cmp._buttonsMemo[id].category;\n                className = cmp._buttonsMemo[id].className;\n                match = cmp._buttonsMemo[id].match;\n            } else {\n                category = button.get('v.category');\n                className = button.get('v.class');\n                match = className ? className.match(/ql-([a-z]+)/) : null;\n                cmp._buttonsMemo[id] = {\n                    category: category,\n                    className: className,\n                    match: match\n                };\n            }\n\n            isValid = rules.category && category === rules.category;\n\n            if (rules.formats && match) {\n                isValid = rules.formats.indexOf(match[1]) !== -1;\n            }\n\n            return isValid;\n        });\n    },\n    \"setupButtons\":function(cmp) {\n        var buttons = cmp.get('v.privateButtons');\n        var userButtons = cmp.get('v.body');\n        var sortedButtonGroups = [];\n        var disabledCategories = cmp.get('v.disabledCategories');\n        var formatsMap = {};\n        var formats = cmp.get('v.formats');\n        var customFormats = !!formats.length;\n        var self = this;\n        cmp._buttonsMemo = {}; \n\n        \n        \n        \n        if (customFormats) {\n            buttons = this._filterButtons(cmp, buttons, { formats: formats });\n        }\n        cmp._userButtons = []; \n        \n        if (disabledCategories.indexOf('FORMAT_FONT') === -1) {\n            cmp.set('v.privateFontMenusVisible', true);\n            formatsMap.font = true;\n            formatsMap.size = true;\n        } else if (!customFormats) {\n            formatsMap.font = true;\n            formatsMap.size = true;\n        }\n\n        \n        \n        \n        if (customFormats && (formats.indexOf('font') === -1)) {\n            cmp.set('v.privateFontMenusVisible', false);\n        }\n\n        \n        if (Array.isArray(userButtons)) {\n            \n\n            userButtons.forEach(function (button) {\n                if ($A.util.isComponent(button) && button.isInstanceOf('lightning:inputRichTextButton')) {\n                    buttons.push(button);\n                    cmp._userButtons.push(button);\n                } else {\n                    $A.warning('[lighting:inputRichText] Buttons must implement inputRichTextButton. Ignoring:' + button + ' (Instance ID: ' + cmp.getGlobalId() + ')');\n                }\n            });\n            \n\n        }\n\n        var categories = [\n            { name: \"FORMAT_TEXT\", label: $A.get(\"$Label.LightningRichTextEditor.formatText\") },\n            { name: \"FORMAT_BACKGROUND\", label: $A.get(\"$Label.LightningRichTextEditor.formatBackground\") },\n            { name: \"FORMAT_BODY\", label: $A.get(\"$Label.LightningRichTextEditor.formatBody\") },\n            { name: \"ALIGN_TEXT\", label: $A.get(\"$Label.LightningRichTextEditor.alignText\") },\n            { name: \"INSERT_CONTENT\", label: $A.get(\"$Label.LightningRichTextEditor.insertContent\") },\n            { name: \"REMOVE_FORMATTING\", label: $A.get(\"$Label.LightningRichTextEditor.removeFormatting\") },\n            { name: \"FORMAT_FONT\", label: $A.get(\"$Label.LightningRichTextEditor.formatFont\") }\n        ];\n\n        \n        categories.forEach(function (cat) {\n\n            var body = [];\n            var format;\n            var match;\n            var i;\n            var className;\n            if (disabledCategories.indexOf(cat.name) !== -1) {\n                \n                return;\n            }\n\n\n            \n            body = self._filterButtons(cmp, buttons, { category: cat.name });\n\n            \n            \n            \n            \n            \n            \n            if (!customFormats) {\n\n                for (i = 0; i < body.length; i += 1) {\n                    className = body[i].get('v.class');\n                    if (className) {\n                        match = className.match(/ql\\-([a-z]+)/i);\n                        format = match ? match[1] : null;\n                    }\n\n                    \n                    if (format) {\n                        formatsMap[format] = true;\n                    }\n                }\n            }\n\n            sortedButtonGroups.push({\n                name: cat.name,\n                label: cat.label,\n                buttons: body\n            });\n        });\n\n        \n        cmp._formats = customFormats ? formats : Object.keys(formatsMap).concat(this.SF_DEFAULT_FORMATS);\n        cmp.set('v.privateButtonGroups', sortedButtonGroups);\n    },\n    \"setupButtonsFocus\":function(cmp) {\n        \n        var editor = cmp.getElement();\n        var buttons = Array.prototype.slice.call(editor.querySelectorAll(this.TOOLBAR_BUTTON_SELECTOR));\n        buttons.forEach(function (button, index) {\n            button.setAttribute('tabindex', index === 0 ? '0' : '-1');\n        });\n    },\n    \"computeClassNames\":function(cmp) {\n        var api = cmp.get('v.privateQuillInstance');\n        if (!api) {\n            return;\n        }\n        var hasFocus = api.hasFocus();\n        var valid = cmp.get('v.valid');\n        var editorElement = api.root;\n\n        var computedClassNames = this.classLib.classnames('slds-rich-text-editor',\n            'slds-grid slds-grid_vertical', 'slds-nowrap', {\n                'slds-has-focus': hasFocus,\n                'slds-has-error': !valid\n            }, cmp.get('v.class'));\n\n        this.updateAriaDescribedby(cmp, valid, editorElement);\n\n        cmp.set('v.privateComputedClass', computedClassNames);\n    },\n    \"computeLabel\":function(cmp, editorElement) {\n        var label = cmp.get('v.label');\n        var ariaLabel = cmp.get('v.ariaLabel');\n        var ariaLabelledby = cmp.get('v.ariaLabelledby');\n        var labelVisible = cmp.get('v.labelVisible');\n\n        if (label || labelVisible) {\n            ariaLabelledby = (\"label-\" + cmp.getGlobalId() + \" \" + (ariaLabelledby || '')).trim();\n            editorElement.setAttribute('aria-labelledby', ariaLabelledby);\n            cmp.set('v.privateComputedLabel', label || $A.get(\"$Label.LightningRichTextAssist.composeText\"));\n        } else if (!ariaLabel && ariaLabelledby) {\n            editorElement.setAttribute('aria-labelledby', ariaLabelledby);\n        } else {\n            ariaLabel = ariaLabel || $A.get(\"$Label.LightningRichTextAssist.composeText\");\n            editorElement.setAttribute('aria-label', ariaLabel);\n        }\n    },\n    \"updateAriaDescribedby\":function(cmp, valid, editorElement) {\n        var computedAriaDescribedby = cmp.get('v.ariaDescribedby');\n        if (valid) {\n            if (computedAriaDescribedby) {\n                editorElement.setAttribute('aria-describedby', computedAriaDescribedby);\n            } else {\n                editorElement.removeAttribute('aria-describedby');\n            }\n        } else {\n            computedAriaDescribedby = ((computedAriaDescribedby || '') + \" \" + this.getErrorMessageId(cmp)).trim();\n            editorElement.setAttribute('aria-describedby', computedAriaDescribedby);\n        }\n    },\n    \"updateEditorState\":function(cmp) {\n        var disabled = cmp.get('v.disabled');\n        var api = cmp.get('v.privateQuillInstance');\n        if (!api) {\n            return;\n        }\n        if (disabled) {\n            api.disable();\n        } else {\n            api.enable();\n        }\n    },\n    \"updateButtonStates\":function(cmp) {\n        var disabled = cmp.get('v.disabled');\n        if (cmp._userButtons) {\n            cmp._userButtons.forEach(function (button) {\n                button.set('v.disabled', disabled);\n            });\n        }\n\n    },\n    \"handleChange\":function(cmp, api) {\n        var html = '';\n        var el = cmp.find('editor').getElement();\n        var qlEditor = el.querySelector('.ql-editor');\n\n        \n        \n        \n        \n        \n        \n        \n        \n        if (!api.editor.isBlank()) {\n            html = this.lib.inputRichTextLibrary.cleanOutput(qlEditor.innerHTML);\n        }\n\n        \n        if (cmp._compositionDirty) {\n            html = html.replace(this.EMPTY_CHARACTER, '');\n            cmp._compositionDirty = false;\n        }\n        \n        \n        cmp._lastVal = html;\n        cmp.set('v.value', html);\n    },\n    \"getActiveButtons\":function(cmp) {\n        var helper = this;\n        var el = cmp.getElement();\n        return Array.prototype.slice.call(el.querySelectorAll(helper.TOOLBAR_BUTTON_SELECTOR)).filter(function(button) {\n            return !button.disabled;\n        });\n    },\n    \"getIndex\":function(cmp, selector, el) {\n        var list = this.getActiveButtons(cmp);\n        return list.indexOf(el);\n    },\n    \"handleKeyDown\":function(cmp, evt) {\n        var targ = evt.target;\n        if (targ && targ.classList.contains('slds-button')) {\n            var index = this.getIndex(cmp, this.TOOLBAR_BUTTON_SELECTOR, targ);\n            if (index === -1) {\n                return; \n            }\n\n            if (targ.classList.contains('overflow-toggle') && (evt.keyCode === 32 || evt.keyCode === 13 || evt.keyCode === 40)) {\n                this.menuKeyboardLibrary.menuKeyboard.handleKeyDownOnMenuTrigger(event, this.overflowMenuKeyboardInterface(cmp));\n                return;\n            }\n            this.menuKeyboardLibrary.menuKeyboard.handleKeyDownOnMenuItem(evt, index, this.toolbarKeyboardInterface(cmp), true);\n        }\n\n    },\n    \"handleOverflowKeyDown\":function(cmp, evt) {\n        var targ = evt.srcElement;\n        if (targ && targ.classList.contains('slds-button')) {\n            var index = this.getIndex(cmp, this.OVERFLOW_BUTTON_SELECTOR, targ);\n            if (index !== -1) { \n                this.menuKeyboardLibrary.menuKeyboard.handleKeyDownOnMenuItem(evt, index, this.overflowMenuKeyboardInterface(cmp), true);\n            }\n        }\n    },\n    \"overflowMenuKeyboardInterface\":function(cmp) {\n        var helper = this;\n        var el = cmp.getElement();\n        return {\n            getTotalMenuItems: function () {\n                return el.querySelectorAll(helper.OVERFLOW_BUTTON_SELECTOR).length;\n            },\n            focusOnIndex: function (index) {\n                helper.selectButton(el.querySelectorAll(helper.OVERFLOW_BUTTON_SELECTOR), index);\n            },\n\n            selectByIndex: function (index) {\n                helper.selectButton(el.querySelectorAll(helper.OVERFLOW_BUTTON_SELECTOR), index, true);\n            },\n\n            returnFocus: function () {\n                requestAnimationFrame(function () {\n                    el.querySelector('.overflow-toggle').focus();\n                });\n            },\n\n            isMenuVisible: function () {\n                return cmp.get('v.privateOverflowMenuVisible');\n            },\n\n            toggleMenuVisibility: function () {\n                cmp.set('v.privateOverflowMenuVisible', !cmp.get('v.privateOverflowMenuVisible'));\n            },\n\n            focusMenuItemWithText: function () {\n                \n                return;\n            }\n        };\n    },\n    \"toolbarKeyboardInterface\":function(cmp) {\n        var helper = this;\n        return {\n            getTotalMenuItems: function () {\n                return helper.getActiveButtons(cmp).length;\n            },\n            focusOnIndex: function (index) {\n                helper.selectButton(helper.getActiveButtons(cmp), index);\n            },\n            selectByIndex: function (index) {\n                helper.selectButton(helper.getActiveButtons(cmp), index, true);\n            },\n\n            handleClick: function (eventKeyCode, index) { \n                helper.selectButton(helper.getActiveButtons(cmp), index, true);\n            },\n\n            returnFocus: function () {\n                \n                return;\n            },\n            isMenuVisible: function () {\n                return true;\n            },\n            toggleMenuVisibility: function () {\n                \n                return;\n            },\n            focusMenuItemWithText: function () {\n                return;\n            }\n        };\n    },\n    \"getTopLevelEnclosingNode\":function(quill, el, tagName) {\n        var curNode = el;\n        var textBox = quill.scrollingContainer;\n        var targetTag = tagName.toLowerCase();\n        while (curNode && curNode !== textBox) {\n            if (curNode.tagName\n                && curNode.tagName.toLowerCase() === targetTag\n                && curNode.parentNode === textBox) {\n                return curNode;\n            }\n            curNode = curNode.parentNode;\n        }\n        return null;\n    },\n    \"insertTextAtCursor\":function(cmp, textToInsert) {\n        var quill = cmp.get('v.privateQuillInstance');\n        var cursorPosition = quill.getSelection(true) ? quill.getSelection(true).index : 0;\n        var cleanedText = this.lib.inputRichTextLibrary.cleanInput(textToInsert);\n\n        quill.clipboard.dangerouslyPasteHTML(cursorPosition, cleanedText);\n    },\n    \"setFormat\":function(cmp, formats) {\n        if (!formats) {\n            return;\n        }\n        var quill = cmp.get('v.privateQuillInstance');\n        this.lib.inputRichTextLibrary.applyFormats(quill, formats);\n    },\n    \"getFormat\":function(cmp) {\n        var quill = cmp.get('v.privateQuillInstance');\n        var filtered = this.lib.inputRichTextLibrary.filterFormats(quill.getFormat());\n        return filtered;\n    }\n  },\n  \"renderer\":{\n    \"render\":function(component, helper) {\n        helper.createDefaultButtons(component);\n        helper.setupButtons(component);\n        return component.superRender();\n    },\n    \"afterRender\":function(component, helper) {\n        component.superAfterRender();\n        helper.initQuill(component);\n        helper.setupButtonsFocus(component);\n\n        \n        if ($A.get('$Browser').isFIREFOX) {\n            document.execCommand('enableObjectResizing', false, 'false');\n            document.execCommand('enableInlineTableEditing', false, 'false');\n        }\n    }\n  }\n};\n});\n","uuid":null}"createdN Ð¿²¥AwB"expiresN ÐyŽ¦AwB"valueEncodedF{"sizeIÜ·"expiresN ÐyŽ¦AwB{